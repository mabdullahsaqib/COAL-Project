     1                                  section .data
     2                                      ; Define constants for frequency and duration
     3                                      freq equ 3000    ; Frequency (440 Hz)
     4                                      duration equ 10000 ; Duration (in milliseconds)
     5                                  
     6                                  section .text
     7                                  global _start
     8                                  
     9                                  _start:
    10                                      ; Initialize the timer
    11 00000000 B0BE                        mov al, 10111110b  ; Set the command byte for timer 2
    12 00000002 E643                        out 43h, al       ; Send the command byte to port 43h
    13 00000004 B89C2E                      mov ax, 11932     ; Set the reload value for the timer
    14 00000007 E642                        out 42h, al       ; Send the low byte of the reload value to port 42h
    15 00000009 88E0                        mov al, ah        ; Send the high byte of the reload value to port 42h
    16 0000000B E642                        out 42h, al
    17                                  
    18                                      ; Play the tone
    19 0000000D E461                        in al, 61h       ; Read the current value of the control register
    20 0000000F 0C03                        or al, 00000011b ; Set the least significant two bits to 1
    21 00000011 E661                        out 61h, al      ; Write the modified value back to the control register
    22                                  
    23                                      ; Delay for the specified duration
    24 00000013 E80A00                      call delay
    25                                  
    26                                      ; Stop the tone
    27 00000016 E461                        in al, 61h       ; Read the current value of the control register
    28 00000018 24FC                        and al, 11111100b ; Set the least significant two bits to 0
    29 0000001A E661                        out 61h, al      ; Write the modified value back to the control register
    30                                  
    31                                      ; Exit the program
    32 0000001C B44C                        mov ah, 4Ch       ; Set the exit function code
    33 0000001E CD21                        int 21h           ; Call DOS to exit
    34                                  
    35                                  delay:
    36                                      ; Delay function for the specified duration
    37 00000020 51                          push cx
    38 00000021 B91027                      mov cx, duration
    39                                  delay_loop:
    40 00000024 E2FE                        loop delay_loop
    41 00000026 59                          pop cx
    42 00000027 C3                          ret
