     1                                  [org 0x0100]
     2 00000000 E9010E                  jmp start
     3                                  
     4                                  
     5 00000003 0000                    seconds: dw 0 
     6 00000005 0000                    timerflag: dw 0 
     7 00000007 00000000                oldkb: dd 0
     8 0000000B 0000                    bool: dw 0
     9 0000000D 0000                    tim: dw 0
    10 0000000F 2C01                    timerfrequency:dw 300
    11 00000011 0000                    timerticklimit:dw 0
    12 00000013 0000                    timertick:dw 0
    13 00000015 0090                    sound_buffer:dw 0x9000
    14 00000017 0000                    sound_index:dw 0
    15 00000019 50C3                    sound_size:dw 50000
    16 0000001B 6B696E6773762E7761-     filename:db 'kingsv.wav',0
    16 00000024 7600               
    17 00000026 0000                    filehandle:dw 0
    18                                  ;...................................................................
    19                                  ; Subroutine for kbisr case-------------------------------------
    20                                  ;-------------------------------------------------------------------
    21                                  
    22                                  kbisr:
    23                                  
    24 00000028 50                      	push ax 
    25 00000029 06                      	push es 
    26 0000002A B800B8                  	mov ax, 0xb800 
    27 0000002D 8EC0                    	mov es, ax   
    28 0000002F 2EFF36[0300]            	push word [cs:seconds] 
    29 00000034 E8BC05                  	call printnum ; print tick count               
    30 00000037 E460                    	in al, 0x60                 
    31 00000039 3C2A                    	cmp al, 0x2a       ;left shift key             
    32 0000003B 750F                    	jne nextcmp 
    33 0000003D E8580D                  	call Initialization
    34                                      ;call baqi
    35 00000040 E8F300                      call movement
    36 00000043 2EC706[0500]0100            mov word [cs:timerflag], 1
    37 0000004A EB22                    	jmp exit                   
    38                                  
    39                                  	nextcmp:
    40 0000004C 3C48                    	cmp al, 0x48 ;;;; up key              
    41 0000004E 7505                    	jne nextcmp2             
    42                                  	;mov word [cs:timerflag], 1
    43 00000050 E8A900                  	call movement2
    44                                  		
    45 00000053 EB19                    	jmp exit                    
    46                                  
    47                                  	nextcmp2:
    48                                  
    49 00000055 3C36                    	cmp al, 0x36         ;;esc key      
    50 00000057 7505                    	jne nextcmp3              
    51                                  	;mov word [cs:timerflag], 1
    52                                  	
    53 00000059 E8C904                      call outbound2
    54                                  
    55 0000005C EB10                    	jmp exit                 
    56                                  
    57                                  	nextcmp3:
    58 0000005E 3C4D                    	cmp al, 0x4d        ; right key          
    59 00000060 7505                    	jne nomatch  
    60                                  	;mov word [cs:timerflag],1 
    61 00000062 E8F203                      call outbound               
    62 00000065 EB07                    	jmp exit                     
    63                                  
    64                                  	nomatch:	
    65 00000067 07                      	pop es 
    66 00000068 58                      	pop ax 
    67 00000069 2EFF2E[0700]            	jmp far [cs:oldkb]          
    68                                  
    69                                  	exit:
    70 0000006E B020                    	mov al, 0x20 
    71 00000070 E620                    	out 0x20, al              
    72 00000072 07                      	pop es 
    73 00000073 58                      	pop ax 
    74 00000074 CF                      	iret  
    75                                  
    76                                  
    77                                  ;...................................................................
    78                                  ; Subroutine for Stripes case-------------------------------------
    79                                  ;-------------------------------------------------------------------
    80                                  
    81                                  stripe1:
    82                                  
    83 00000075 683D78                      push 0x783d ; color
    84 00000078 6A02                            push 2; x1
    85 0000007A 6A0C                            push  12;y1
    86 0000007C 6A06                            push  6; width
    87 0000007E 6A0D                            push 13 ; y2
    88 00000080 E85F0A                          call mycode
    89                                  
    90 00000083 C3                              ret
    91                                  
    92                                      stripe2:
    93                                  
    94 00000084 683D78                          push 0x783d ; color
    95 00000087 6A0C                            push 12; x1
    96 00000089 6A0C                            push  12;y1
    97 0000008B 6A06                            push  6 ; width
    98 0000008D 6A0D                            push 13 ; y2
    99 0000008F E8500A                          call mycode
   100                                  
   101 00000092 C3                              ret
   102                                  
   103                                  
   104                                      stripe3:
   105                                  
   106 00000093 683D78                      push 0x783d ; color
   107 00000096 6A16                            push 22; x1
   108 00000098 6A0C                            push  12;y1
   109 0000009A 6A06                            push  6; width
   110 0000009C 6A0D                            push 13 ; y2
   111 0000009E E8410A                          call mycode
   112                                  
   113 000000A1 C3                              ret
   114                                  
   115                                      stripe4:
   116                                  
   117 000000A2 683D78                      push 0x783d ; color
   118 000000A5 6A20                            push 32; x1
   119 000000A7 6A0C                            push  12;y1
   120 000000A9 6A06                            push  6; width
   121 000000AB 6A0D                            push 13 ; y2
   122 000000AD E8320A                          call mycode
   123                                  
   124 000000B0 C3                              ret
   125                                  
   126                                      stripe5:
   127                                  
   128 000000B1 683D78                      push 0x783d ; color
   129 000000B4 6A2A                            push 42; x1
   130 000000B6 6A0C                            push  12;y1
   131 000000B8 6A06                            push  6; width
   132 000000BA 6A0D                            push 13 ; y2
   133 000000BC E8230A                          call mycode
   134                                  
   135 000000BF C3                              ret
   136                                  
   137                                  
   138                                      stripe6:
   139 000000C0 683D78                          push 0x783d ; color
   140 000000C3 6A34                            push 52; x1
   141 000000C5 6A0C                            push  12;y1
   142 000000C7 6A06                            push  6; width
   143 000000C9 6A0D                            push 13 ; y2
   144 000000CB E8140A                          call mycode
   145                                  
   146 000000CE C3                              ret
   147                                  
   148                                      stripe7:
   149                                  
   150 000000CF 683D78                      push 0x783d ; color
   151 000000D2 6A3E                            push 62; x1
   152 000000D4 6A0C                            push  12;y1
   153 000000D6 6A06                            push  6; width
   154 000000D8 6A0D                            push 13 ; y2
   155 000000DA E8050A                          call mycode
   156                                  
   157 000000DD C3                              ret
   158                                  
   159                                      stripe8:
   160                                  
   161 000000DE 683D78                      push 0x783d ; color
   162 000000E1 6A48                            push 72; x1
   163 000000E3 6A0C                            push  12;y1
   164 000000E5 6A06                            push  6; width
   165 000000E7 6A0D                            push 13 ; y2
   166 000000E9 E8F609                          call mycode
   167                                  
   168 000000EC C3                              ret
   169                                  
   170                                      stripe9:
   171                                  
   172 000000ED 683D78                      push 0x783d ; color
   173 000000F0 6A50                            push 80; x1
   174 000000F2 6A0C                            push  12;y1
   175 000000F4 6A06                            push  6; width
   176 000000F6 6A0D                            push 13 ; y2
   177 000000F8 E8E709                          call mycode
   178                                  
   179 000000FB C3                              ret
   180                                  
   181                                  
   182                                  
   183                                  
   184                                  
   185                                  
   186                                  
   187                                  
   188                                  movement2:
   189                                  
   190 000000FC E82606                      call Print_last
   191 000000FF E8CC01                      call tile2
   192 00000102 E8BA01                      call tile1
   193 00000105 E8D501                      call tile3
   194 00000108 E82C02                      call tileup
   195 0000010B E83802                      call obj2
   196 0000010E 2EC706[0500]0100             mov word [cs:timerflag], 1
   197 00000115 E8F00B                      call delays
   198                                  
   199 00000118 2EC706[0500]0100             mov word [cs:timerflag], 1
   200                                  
   201 0000011F E80306                      call Print_last
   202 00000122 E89A01                      call tile1
   203 00000125 E8A601                      call tile2
   204 00000128 E8B201                      call tile3
   205 0000012B E8FA01                      call obj
   206 0000012E 2EC706[0500]0100             mov word [cs:timerflag], 1
   207                                  
   208                                  
   209 00000135 C3                          ret
   210                                  
   211                                  
   212                                  
   213                                  movement:
   214                                  
   215 00000136 E8C201                      call tile12
   216 00000139 E8DD01                      call tile22
   217 0000013C E89E01                      call tile3
   218 0000013F E833FF                      call stripe1
   219 00000142 E8E301                      call obj
   220 00000145 E88A06                      call building1
   221 00000148 E86501                      call carrot3
   222 0000014B 2EC706[0500]0100            mov word [cs:timerflag], 1
   223 00000152 E8B30B                      call delays
   224                                   
   225                                  
   226                                  
   227 00000155 2EC706[0500]0100             mov word [cs:timerflag], 1
   228 0000015C E8C605                      call Print_last
   229 0000015F E88A01                      call tile11
   230 00000162 E8A501                      call tile21
   231 00000165 E87501                      call tile3
   232 00000168 E819FF                      call stripe2
   233 0000016B E83301                      call carrot2
   234 0000016E E8B701                      call obj
   235 00000171 E89E06                      call building2
   236 00000174 2EC706[0500]0100            mov word [cs:timerflag], 1
   237 0000017B E88A0B                      call delays
   238                                      
   239                                   
   240 0000017E 2EC706[0500]0100             mov word [cs:timerflag], 1
   241 00000185 E89D05                      call Print_last
   242 00000188 E83401                      call tile1
   243 0000018B E84001                      call tile2
   244 0000018E E84C01                      call tile3
   245 00000191 E8FFFE                      call stripe3
   246 00000194 E89101                      call obj
   247 00000197 E8A706                      call building3
   248 0000019A E8F500                      call carrot
   249 0000019D 2EC706[0500]0100            mov word [cs:timerflag], 1
   250 000001A4 E8610B                      call delays
   251                                      
   252                                  
   253                                  
   254                                  
   255                                  
   256                                      ;.................................left movememnt...............................;
   257 000001A7 2EC706[0500]0100             mov word [cs:timerflag], 1
   258 000001AE E80E01                      call tile1
   259 000001B1 E81A01                      call tile2
   260 000001B4 E82601                      call tile3
   261 000001B7 E86E01                      call obj
   262 000001BA E8B306                      call building4 
   263 000001BD E8E2FE                      call stripe4
   264 000001C0 E8CF00                      call carrot
   265 000001C3 2EC706[0500]0100            mov word [cs:timerflag], 1
   266 000001CA E83B0B                      call delays
   267                                      
   268                                  
   269                                  
   270                                  
   271 000001CD 2EC706[0500]0100             mov word [cs:timerflag], 1
   272 000001D4 E84E05                      call Print_last
   273 000001D7 E81201                      call tile11
   274 000001DA E82D01                      call tile21
   275 000001DD E8FD00                      call tile3
   276 000001E0 E84501                      call obj
   277 000001E3 E8EC06                      call building5
   278 000001E6 E8B800                      call carrot2
   279 000001E9 E8C5FE                      call stripe5
   280 000001EC 2EC706[0500]0100            mov word [cs:timerflag], 1
   281 000001F3 E8120B                      call delays
   282                                     
   283                                   
   284 000001F6 2EC706[0500]0100             mov word [cs:timerflag], 1
   285 000001FD E82505                      call Print_last
   286 00000200 E8F800                      call tile12
   287 00000203 E81301                      call tile22
   288 00000206 E8D400                      call tile3
   289 00000209 E81C01                      call obj
   290 0000020C E80307                      call building6
   291 0000020F E8AEFE                      call stripe6
   292 00000212 E89B00                      call carrot3
   293 00000215 2EC706[0500]0100            mov word [cs:timerflag], 1
   294 0000021C E8E90A                      call delays
   295                                    
   296                                   
   297                                  
   298 0000021F 2EC706[0500]0100            mov word [cs:timerflag], 1
   299 00000226 E8D200                      call tile12
   300 00000229 E8ED00                      call tile22
   301 0000022C E8AE00                      call tile3
   302 0000022F E8F600                      call obj
   303 00000232 E80C07                      call building7
   304 00000235 E87800                      call carrot3
   305 00000238 E894FE                      call stripe7
   306 0000023B 2EC706[0500]0100            mov word [cs:timerflag], 1
   307 00000242 E8C30A                      call delays
   308                                     
   309                                  
   310                                  
   311                                  
   312 00000245 2EC706[0500]0100            mov word [cs:timerflag], 1
   313 0000024C E8D604                      call Print_last
   314 0000024F E89A00                      call tile11
   315 00000252 E8B500                      call tile21
   316 00000255 E88500                      call tile3
   317 00000258 E8CD00                      call obj
   318 0000025B E81407                      call building8
   319 0000025E E87DFE                      call stripe8
   320 00000261 E83D00                      call carrot2
   321 00000264 2EC706[0500]0100            mov word [cs:timerflag], 1
   322 0000026B E89A0A                      call delays
   323                                     
   324                                   
   325                                  
   326 0000026E E8B404                      call Print_last
   327 00000271 E84B00                      call tile1
   328 00000274 E85700                      call tile2
   329 00000277 E86300                      call tile3
   330 0000027A E8AB00                      call obj
   331                                      ;call stripe9
   332 0000027D E81200                      call carrot
   333 00000280 2EC706[0500]0100            mov word [cs:timerflag], 1
   334 00000287 E87E0A                      call delays
   335                                  
   336                                  
   337                                  
   338 0000028A 2EC706[0500]0100            mov word [cs:timerflag], 1
   339 00000291 C3                         ret
   340                                  
   341                                  carrot:
   342                                  
   343 00000292 683C07                  	push 0x073c ; color
   344 00000295 6A20                        push 32; x1
   345 00000297 6A14                    	push  20;y1
   346 00000299 6A02                    	push  2 ; width
   347 0000029B 6A15                        push 21 ; y2
   348 0000029D E84208                  	call mycode
   349                                  
   350 000002A0 C3                          ret
   351                                  
   352                                  carrot2:
   353                                  
   354 000002A1 683C07                  	push 0x073c ; color
   355 000002A4 6A1C                        push 28; x1
   356 000002A6 6A14                    	push  20;y1
   357 000002A8 6A02                    	push  2 ; width
   358 000002AA 6A15                        push 21 ; y2
   359 000002AC E83308                  	call mycode
   360                                  
   361 000002AF C3                          ret
   362                                  
   363                                  
   364                                  
   365                                  carrot3:
   366                                  
   367 000002B0 683C07                  	push 0x073c ; color
   368 000002B3 6A18                        push 24; x1
   369 000002B5 6A14                    	push  20;y1
   370 000002B7 6A02                    	push  2 ; width
   371 000002B9 6A15                        push 21 ; y2
   372 000002BB E82408                  	call mycode
   373                                  
   374 000002BE C3                          ret
   375                                  
   376                                  
   377                                  tile1:
   378                                  
   379 000002BF 682047                    	push 0x4720 ; color
   380 000002C2 6A1E                        push 30; x1
   381 000002C4 6A12                    	push  18;y1
   382 000002C6 6A06                    	push  6 ; width
   383 000002C8 6A13                        push 19 ; y2
   384 000002CA E81508                  	call mycode
   385                                  
   386 000002CD C3                          ret
   387                                  tile2:
   388                                  
   389 000002CE 68DB22                    	push 0x22db ; color
   390 000002D1 6A1E                        push 30; x1
   391 000002D3 6A15                    	push  21;y1
   392 000002D5 6A06                    	push  6 ; width
   393 000002D7 6A16                        push 22 ; y2
   394 000002D9 E80608                  	call mycode
   395                                  
   396 000002DC C3                          ret
   397                                  
   398                                  tile3:
   399                                  
   400 000002DD 682047                    	push 0x4720 ; color
   401 000002E0 6A1E                        push 30; x1
   402 000002E2 6A18                    	push  24;y1
   403 000002E4 6A06                    	push  6 ; width
   404 000002E6 6A19                        push 25 ; y2
   405 000002E8 E8F707                  	call mycode   
   406                                  
   407 000002EB C3                          ret
   408                                  
   409                                  tile11:
   410                                  
   411 000002EC 682047                  	push 0x4720 ; color
   412 000002EF 6A1A                        push 26; x1
   413 000002F1 6A12                    	push  18;y1
   414 000002F3 6A06                    	push  6 ; width
   415 000002F5 6A13                        push 19 ; y2
   416 000002F7 E8E807                  	call mycode
   417                                  
   418                                  
   419 000002FA C3                          ret
   420                                  
   421                                  tile12:
   422                                  
   423 000002FB 682047                      push 0x4720 ; color
   424 000002FE 6A16                        push 22; x1
   425 00000300 6A12                    	push  18;y1
   426 00000302 6A06                    	push  6 ; width
   427 00000304 6A13                        push 19 ; y2
   428 00000306 E8D907                  	call mycode
   429                                  
   430 00000309 C3                          ret
   431                                  tile21:   
   432                                  
   433 0000030A 68DB22                      push 0x22db ; color
   434 0000030D 6A1A                        push 26; x1
   435 0000030F 6A15                    	push  21;y1
   436 00000311 6A06                    	push  6 ; width
   437 00000313 6A16                        push 22 ; y2
   438 00000315 E8CA07                  	call mycode
   439                                  
   440 00000318 C3                          ret
   441                                  
   442                                  tile22:   
   443                                  
   444 00000319 68DB22                      push 0x22db ; color
   445 0000031C 6A16                        push 22; x1
   446 0000031E 6A15                    	push  21;y1
   447 00000320 6A06                    	push  6 ; width
   448 00000322 6A16                        push 22 ; y2
   449 00000324 E8BB07                  	call mycode
   450                                  
   451 00000327 C3                          ret
   452                                  obj:
   453                                  
   454 00000328 682E47                    	push 0x472e ; color
   455 0000032B 6A20                        push 32; x1
   456 0000032D 6A17                    	push  23;y1
   457 0000032F 6A02                    	push  2 ; width
   458 00000331 6A18                        push 24; y2
   459 00000333 E8AC07                  	call mycode
   460 00000336 C3                          ret
   461                                  
   462                                  tileup:
   463                                  
   464 00000337 68DB22                    	push 0x22db ; color
   465 0000033A 6A1E                        push 30; x1
   466 0000033C 6A15                    	push  21;y1
   467 0000033E 6A06                    	push  6 ; width
   468 00000340 6A16                        push 22 ; y2
   469 00000342 E89D07                  	call mycode
   470                                  
   471 00000345 C3                          ret    
   472                                  obj2:
   473                                  
   474 00000346 682E47                    	push 0x472e ; color
   475 00000349 6A20                        push 32; x1
   476 0000034B 6A14                    	push  20;y1
   477 0000034D 6A02                    	push  2 ; width
   478 0000034F 6A15                        push 21; y2
   479 00000351 E88E07                  	call mycode
   480 00000354 C3                          ret    
   481                                  ;...................................................................
   482                                  ; Subroutine for outbound case-------------------------------------
   483                                  ;-------------------------------------------------------------------
   484                                  
   485                                  score:
   486 00000355 06                      	push es
   487 00000356 50                      	push ax
   488 00000357 57                      	push di
   489 00000358 51                      	push cx
   490 00000359 B800B8                  	mov ax,0xb800
   491 0000035C 8EC0                    	mov es,ax
   492                                  
   493                                  
   494 0000035E 26C60602054E                mov byte[es:1282] ,'N'
   495 00000364 26C606040561                mov byte[es:1284] ,'a'
   496 0000036A 26C60606056D                mov byte[es:1286] ,'m'
   497 00000370 26C606080565                mov byte[es:1288] ,'e'
   498 00000376 26C6061E0553                mov byte[es:1310] ,'S'
   499 0000037C 26C606200563                mov byte[es:1312] ,'c'
   500 00000382 26C60622056F                mov byte[es:1314] ,'o'
   501 00000388 26C606240572                mov byte[es:1316] ,'r'
   502 0000038E 26C606260565                mov byte[es:1318] ,'e'
   503                                      
   504                                  
   505 00000394 26C606A20552                mov byte[es:1442] ,'R'
   506 0000039A 26C606A4056F                mov byte[es:1444] ,'o'
   507 000003A0 26C606A60561                mov byte[es:1446] ,'a'
   508 000003A6 26C606A80569                mov byte[es:1448] ,'i'
   509 000003AC 26C606AA056C                mov byte[es:1450] ,'l'
   510 000003B2 26C606C20537                mov byte[es:1474] ,'7'
   511                                  
   512 000003B8 26C606080C54                    mov byte[es:3080] ,'T'
   513 000003BE 26C6060A0C68                    mov byte[es:3082] ,'h'
   514 000003C4 26C6060C0C65                    mov byte[es:3084] ,'e'
   515 000003CA 26C6060E0C00                    mov byte[es:3086] ,''
   516 000003D0 26C606100C00                    mov byte[es:3088] ,''
   517 000003D6 26C606120C00                    mov byte[es:3090] ,''
   518 000003DC 26C606140C45                    mov byte[es:3092] ,'E'
   519 000003E2 26C606160C6E                    mov byte[es:3094] ,'n'
   520 000003E8 26C606180C64                    mov byte[es:3096] ,'d'
   521 000003EE 26C6061A0C2E                    mov byte[es:3098] ,'.'
   522 000003F4 26C6061C0C2E                    mov byte[es:3100] ,'.'
   523 000003FA 26C6061E0C2E                    mov byte[es:3102] ,'.'
   524 00000400 26C606200C2E                    mov byte[es:3104] ,'.'
   525 00000406 26C606220C2E                    mov byte[es:3106] ,'.'
   526 0000040C 26C606240C2E                    mov byte[es:3108] ,'.'
   527 00000412 26C606260C2E                    mov byte[es:3110] ,'.'
   528 00000418 26C606280C2E                    mov byte[es:3112] ,'.'
   529 0000041E 26C6062A0C2E                    mov byte[es:3114] ,'.'
   530                                  
   531                                  
   532 00000424 59                           pop cx
   533 00000425 5F                           pop di
   534 00000426 58                           pop ax
   535 00000427 07                           pop es
   536 00000428 C3                           ret
   537                                  
   538                                  restart:
   539 00000429 06                      	push es
   540 0000042A 50                      	push ax
   541 0000042B 51                      	push cx 
   542 0000042C 57                      	push di
   543                                  
   544 0000042D B800B8                  	mov ax,0xb800
   545 00000430 8EC0                    	mov es,ax
   546 00000432 BF0000                  	mov di,0
   547 00000435 B93002                  	mov cx,560
   548                                  
   549                                  	rest1:
   550 00000438 26C7052047               	mov word[es:di],0x4720
   551 0000043D 83C702                   	add di,2
   552 00000440 83E901                   	sub cx,1
   553 00000443 83F900                   	cmp cx,0
   554 00000446 75F0                     	jne rest1
   555                                  
   556 00000448 5F                      	pop di
   557 00000449 59                      	pop cx
   558 0000044A 58                      	pop ax
   559 0000044B 07                      	pop es
   560 0000044C C3                      	ret
   561                                  
   562                                  finalsheet:
   563 0000044D E87202                      call clrscr
   564 00000450 E8D6FF                      call restart
   565 00000453 E8FFFE                      call score
   566 00000456 C3                          ret
   567                                  
   568                                  
   569                                  outbound:
   570                                  
   571 00000457 E86802                          call clrscr
   572 0000045A E8CCFF                          call restart
   573                                  
   574 0000045D 06                              push es
   575 0000045E 50                              push ax
   576 0000045F 57                              push di
   577 00000460 51                              push cx
   578 00000461 B800B8                          mov ax,0xb800
   579 00000464 8EC0                            mov es,ax
   580                                  
   581 00000466 26C606680B4F                    mov byte[es:2920] ,'O'
   582 0000046C 26C6066A0B55                    mov byte[es:2922] ,'U'
   583 00000472 26C6066C0B54                    mov byte[es:2924] ,'T'
   584 00000478 26C6066E0B00                    mov byte[es:2926] ,''
   585                                  
   586 0000047E 26C606700B4F                    mov byte[es:2928] ,'O'
   587 00000484 26C606720B66                    mov byte[es:2930] ,'f'
   588 0000048A 26C606740B00                    mov byte[es:2932] ,''
   589 00000490 26C606760B42                    mov byte[es:2934] ,'B'
   590 00000496 26C606780B6F                    mov byte[es:2936] ,'o'
   591                                  
   592 0000049C 26C6067A0B75                    mov byte[es:2938] ,'u'
   593 000004A2 26C6067C0B6E                    mov byte[es:2940] ,'n'
   594 000004A8 26C6067E0B64                    mov byte[es:2942] ,'d'
   595 000004AE 26C606800B00                    mov byte[es:2944] ,''
   596                                  
   597 000004B4 26C606080C50                    mov byte[es:3080] ,'P'
   598 000004BA 26C6060A0C72                    mov byte[es:3082] ,'r'
   599 000004C0 26C6060C0C65                    mov byte[es:3084] ,'e'
   600 000004C6 26C6060E0C73                    mov byte[es:3086] ,'s'
   601 000004CC 26C606100C73                    mov byte[es:3088] ,'s'
   602 000004D2 26C606120C00                    mov byte[es:3090] ,''
   603 000004D8 26C606140C50                    mov byte[es:3092] ,'P'
   604 000004DE 26C606160C00                    mov byte[es:3094] ,''
   605 000004E4 26C606180C74                    mov byte[es:3096] ,'t'
   606 000004EA 26C6061A0C6F                    mov byte[es:3098] ,'o'
   607 000004F0 26C6061C0C00                    mov byte[es:3100] ,''
   608 000004F6 26C6061E0C65                    mov byte[es:3102] ,'e'
   609 000004FC 26C606200C78                    mov byte[es:3104] ,'x'
   610 00000502 26C606220C69                    mov byte[es:3106] ,'i'
   611 00000508 26C606240C74                    mov byte[es:3108] ,'t'
   612                                  
   613                                  
   614                                  	TakIn1_:
   615 0000050E CD16                    				int 0x16   
   616 00000510 E460                    				in al ,0x60  
   617 00000512 3C19                    				cmp al,0x19   ;;; interupt for p
   618                                  				
   619 00000514 75F8                    				jne TakIn1_
   620                                         
   621 00000516 E834FF                              call finalsheet
   622                                          
   623                                  
   624                                  
   625 00000519 2EC706[0500]0000         mov word [cs:timerflag], 0
   626 00000520 59                              pop cx
   627 00000521 5F                              pop di
   628 00000522 58                              pop ax
   629 00000523 07                              pop es
   630 00000524 C3                              ret
   631                                  
   632                                  
   633                                  outbound2:
   634                                  
   635 00000525 E89A01                          call clrscr
   636 00000528 E8FEFE                          call restart
   637                                  
   638 0000052B 06                              push es
   639 0000052C 50                              push ax
   640 0000052D 57                              push di
   641 0000052E 51                              push cx
   642 0000052F B800B8                          mov ax,0xb800
   643 00000532 8EC0                            mov es,ax
   644                                  
   645 00000534 26C606680B4F                    mov byte[es:2920] ,'O'
   646 0000053A 26C6066A0B55                    mov byte[es:2922] ,'U'
   647 00000540 26C6066C0B54                    mov byte[es:2924] ,'T'
   648 00000546 26C6066E0B00                    mov byte[es:2926] ,''
   649                                  
   650 0000054C 26C606700B4F                    mov byte[es:2928] ,'O'
   651 00000552 26C606720B66                    mov byte[es:2930] ,'f'
   652 00000558 26C606740B00                    mov byte[es:2932] ,''
   653 0000055E 26C606760B42                    mov byte[es:2934] ,'B'
   654 00000564 26C606780B6F                    mov byte[es:2936] ,'o'
   655                                  
   656 0000056A 26C6067A0B75                    mov byte[es:2938] ,'u'
   657 00000570 26C6067C0B6E                    mov byte[es:2940] ,'n'
   658 00000576 26C6067E0B64                    mov byte[es:2942] ,'d'
   659 0000057C 26C606800B00                    mov byte[es:2944] ,''
   660                                  
   661 00000582 26C606080C50                    mov byte[es:3080] ,'P'
   662 00000588 26C6060A0C72                    mov byte[es:3082] ,'r'
   663 0000058E 26C6060C0C65                    mov byte[es:3084] ,'e'
   664 00000594 26C6060E0C73                    mov byte[es:3086] ,'s'
   665 0000059A 26C606100C73                    mov byte[es:3088] ,'s'
   666 000005A0 26C606120C00                    mov byte[es:3090] ,''
   667 000005A6 26C606140C50                    mov byte[es:3092] ,'P'
   668 000005AC 26C606160C00                    mov byte[es:3094] ,''
   669 000005B2 26C606180C74                    mov byte[es:3096] ,'t'
   670 000005B8 26C6061A0C6F                    mov byte[es:3098] ,'o'
   671 000005BE 26C6061C0C00                    mov byte[es:3100] ,''
   672 000005C4 26C6061E0C50                    mov byte[es:3102] ,'P'
   673 000005CA 26C606200C6C                    mov byte[es:3104] ,'l'
   674 000005D0 26C606220C61                    mov byte[es:3106] ,'a'
   675 000005D6 26C606240C79                    mov byte[es:3108] ,'y'
   676                                  
   677                                  
   678                                  	TakIn2_:
   679 000005DC CD16                    				int 0x16   
   680 000005DE E460                    				in al ,0x60  
   681 000005E0 3C19                    				cmp al,0x19   ;;; interupt for p
   682                                  				
   683 000005E2 75F8                    				jne TakIn2_
   684                                         
   685                                          
   686 000005E4 E85307                          call walapart321
   687                                  
   688 000005E7 2EC706[0500]0000         mov word [cs:timerflag], 0
   689 000005EE 59                              pop cx
   690 000005EF 5F                              pop di
   691 000005F0 58                              pop ax
   692 000005F1 07                              pop es
   693 000005F2 C3                              ret
   694                                  
   695                                  
   696                                  ;...................................................................
   697                                  ; Subroutine for Timer case-----------------------------------------
   698                                  ;-------------------------------------------------------------------
   699                                  
   700                                  printnum: 
   701 000005F3 55                      	push bp 
   702 000005F4 89E5                        mov bp, sp 
   703 000005F6 06                      	push es 
   704 000005F7 50                      	push ax 
   705 000005F8 53                      	push bx 
   706 000005F9 51                      	push cx 
   707 000005FA 52                      	push dx 
   708 000005FB 57                      	push di 
   709 000005FC B800B8                  	mov ax, 0xb800 
   710 000005FF 8EC0                    	mov es, ax ; point es to video base 
   711 00000601 8B4604                  	mov ax, [bp+4] ; load number in ax 
   712 00000604 BB0A00                  	mov bx, 10 ; use base 10 for division 
   713 00000607 B90000                  	mov cx, 0 ; initialize count of digits 
   714                                     
   715                                  	nextdigit:
   716 0000060A BA0000                      mov dx, 0 ; zero upper half of dividend 
   717 0000060D F7F3                    	div bx ; divide by 10 
   718 0000060F 80C230                  	add dl, 0x30 ; convert digit into ascii value 
   719 00000612 52                      	push dx ; save ascii value on stack 
   720 00000613 41                      	inc cx ; increment count of values 
   721 00000614 83F800                  	cmp ax, 0 ; is the quotient zero 
   722 00000617 75F1                    	jnz nextdigit ; if no divide it again 
   723 00000619 BF8C00                  	mov di, 140 ; point di to 70th column 
   724                                   
   725                                      nextposa: 
   726 0000061C 5A                              pop dx ; remove a digit from the stack 
   727 0000061D B607                            mov dh, 0x07 ; use normal attribute 
   728 0000061F 268915                          mov [es:di], dx ; print char on screen 
   729 00000622 83C702                          add di, 2 ; move to next screen location 
   730 00000625 E2F5                            loop nextposa ; repeat for all digits on stack 
   731 00000627 5F                              pop di 
   732 00000628 5A                              pop dx 
   733 00000629 59                              pop cx 
   734 0000062A 5B                              pop bx 
   735 0000062B 58                              pop ax
   736 0000062C 07                              pop es 
   737 0000062D 5D                              pop bp 
   738 0000062E C20200                          ret 2
   739                                  
   740                                  timer: 
   741 00000631 50                      	push ax
   742 00000632 2EFF06[1300]            	inc word[cs:timertick]
   743 00000637 2EA1[1300]              	mov ax,[cs:timertick]
   744 0000063B 2E3B06[1100]            	cmp ax,word[cs:timerticklimit]
   745 00000640 58                      	pop ax
   746 00000641 7248                    	jc playsound
   747 00000643 2EC706[1300]0000        	mov word[cs:timertick],0
   748 0000064A 2E833E[0D00]0A          	cmp word[cs:tim],10
   749 00000650 7614                    	jbe lo
   750 00000652 2E833E[0D00]0B          	cmp word[cs:tim],11
   751 00000658 7400                    	je loo
   752                                  	loo:
   753 0000065A 2EC706[0D00]0000        	mov word[cs:tim],0
   754 00000661 2EFF06[0300]            		inc word [cs:seconds] ; increment tick count 
   755                                  	lo:
   756 00000666 2E833E[0300]0A          	cmp word [cs:seconds],10
   757 0000066C 731D                    	jae skip2
   758 0000066E 2EC706[0B00]0100        	mov word[cs:bool],1
   759 00000675 50                      	push ax 
   760 00000676 2E833E[0500]01          	cmp word [cs:timerflag], 1 ; is the printing flag set 
   761 0000067C 750D                    	jne playsound
   762 0000067E 2EFF06[0D00]            	inc word[cs:tim]
   763 00000683 2EFF36[0300]            	push word [cs:seconds] 
   764 00000688 E868FF                  	call printnum ; print tick count 
   765                                  
   766                                  skip2:
   767                                  	;call outbound
   768                                  playsound:
   769 0000068B 60                      		pusha
   770 0000068C 06                      			push es
   771 0000068D 1E                      			push ds
   772 0000068E 0E                      			push cs
   773 0000068F 1F                      			pop ds
   774 00000690 8B16[1500]              			mov dx,[sound_buffer]
   775 00000694 8EC2                    			mov es,dx	
   776                                  			;send DSP command 10h
   777 00000696 BA2C02                  			mov dx, 22ch
   778 00000699 B010                    			mov al,10h
   779 0000069B EE                      			out dx,al
   780                                  			;send byte audio sample
   781 0000069C 8B36[1700]              			mov si,[sound_index]
   782 000006A0 268A04                  			mov al,[es:si]
   783 000006A3 EE                      			out dx,al
   784 000006A4 8306[1700]01            			add word[sound_index],1
   785 000006A9 8B16[1900]              			mov dx,[sound_size]
   786 000006AD 3916[1700]              			cmp word[sound_index],dx
   787 000006B1 7506                    			jne soundskip
   788 000006B3 C706[1700]0000          			mov word[sound_index],0
   789                                  			soundskip:
   790 000006B9 1F                      			pop ds
   791 000006BA 07                      			pop es
   792 000006BB 61                      			popa
   793 000006BC B020                    			mov al, 0x20 
   794 000006BE E620                    			out 0x20, al ; send EOI to PIC 
   795 000006C0 58                      			pop ax 
   796 000006C1 CF                      			iret
   797                                  ;--------------------------------------------------------------------
   798                                  ; subroutine to clear the screen
   799                                  ;--------------------------------------------------------------------
   800                                  clrscr:			
   801 000006C2 06                      	push es
   802 000006C3 50                      	push ax
   803 000006C4 57                      	push di
   804 000006C5 51                      	push cx
   805                                  
   806 000006C6 B800B8                  	mov ax, 0xb800
   807 000006C9 8EC0                    	mov es, ax				
   808                                  
   809 000006CB BF0000                  	mov di, 0
   810 000006CE B9D007                  	mov cx, 2000				
   811                                  
   812 000006D1 26C7052007              	mov word [es:di], 0x0720		
   813 000006D6 FC                      	cld					;; add di, 2
   814 000006D7 F3AB                    	rep stosw				;;repeat cx times 
   815                                  					
   816 000006D9 59                      	pop cx
   817 000006DA 5F                      	pop di
   818 000006DB 58                      	pop ax
   819 000006DC 07                      	pop es
   820                                  
   821 000006DD C3                      	ret
   822                                  ;--------------------------------------------------------------------
   823                                  ; subroutine for delay
   824                                  ;--------------------------------------------------------------------
   825                                  delay: 		
   826 000006DE 50                      	push ax
   827 000006DF 51                      	push cx
   828 000006E0 B80000                  	mov ax, 0
   829                                  
   830                                  	d2:
   831 000006E3 E2FE                    		loop d2
   832                                  
   833                                  	d1:			
   834 000006E5 83C001                  		add ax, 1
   835 000006E8 B9FFFF                  		mov cx, 0xffff
   836 000006EB 83F8FF                  		cmp ax, 0xffff
   837 000006EE 75F5                    		jne d1
   838                                  
   839 000006F0 B9FFFF                  		mov cx, 0xFFFF
   840                                  	d4:
   841 000006F3 E2FE                    		loop d4
   842                                  	
   843 000006F5 59                      	pop cx
   844 000006F6 58                      	pop ax
   845 000006F7 C3                      	ret
   846                                  ;--------------------------------------------------------------------
   847                                  ; subroutine for Sky_Printing
   848                                  ;--------------------------------------------------------------------
   849                                  Print_Sky:		
   850 000006F8 06                      	push es
   851 000006F9 50                      	push ax
   852 000006FA 57                      	push di
   853 000006FB 51                      	push cx
   854                                  
   855 000006FC B800B8                  	mov ax, 0xb800
   856 000006FF 8EC0                    	mov es, ax				
   857 00000701 BF0000                  	mov di, 0				
   858 00000704 B90000                  	mov cx, 0
   859                                  
   860                                  	back:			
   861 00000707 26C705DB0B              		mov word [es:di], 0x0BDB		
   862 0000070C 83C702                  		add di, 2				
   863 0000070F 83C102                  		add cx, 2
   864 00000712 81F9A005                		cmp cx, 1440			
   865 00000716 75EF                    		jne back				
   866                                  
   867 00000718 59                      		pop cx
   868 00000719 5F                      		pop di
   869 0000071A 58                      		pop ax
   870 0000071B 07                      		pop es
   871                                  
   872 0000071C 2EFF36[0300]                    push word [cs:seconds] 
   873 00000721 E8CFFE                  		call printnum ; print tick count 
   874 00000724 C3                      	ret
   875                                  
   876                                  Print_last:		
   877 00000725 06                      	push es
   878 00000726 50                      	push ax
   879 00000727 57                      	push di
   880 00000728 51                      	push cx
   881                                  
   882 00000729 B800B8                  	mov ax, 0xb800
   883 0000072C 8EC0                    	mov es, ax				
   884 0000072E BF400B                  	mov di, 2880				
   885 00000731 B90000                  	mov cx, 0
   886                                  
   887                                  	back1:			
   888 00000734 26C705B230              		mov word [es:di], 0x30b2		
   889 00000739 83C702                  		add di, 2				
   890 0000073C 83C102                  		add cx, 2
   891 0000073F 81F9A00F                		cmp cx, 4000			
   892 00000743 75EF                    		jne back1				
   893                                  
   894 00000745 59                      		pop cx
   895 00000746 5F                      		pop di
   896 00000747 58                      		pop ax
   897 00000748 07                      		pop es 
   898 00000749 C3                      	ret
   899                                  ;--------    
   900                                  ;--------------------------------------------------------------------
   901                                  ; subroutine for Greenry_Printing
   902                                  ;--------------------------------------------------------------------
   903                                  
   904                                  Print_Greenry:	
   905 0000074A 06                      	push es
   906 0000074B 50                      	push ax
   907 0000074C 57                      	push di
   908 0000074D 51                      	push cx
   909                                  		
   910                                  	
   911 0000074E B800B8                  	mov ax, 0xb800
   912 00000751 8EC0                    	mov es, ax	
   913                                  	
   914 00000753 BFA005                  	mov di, 1440
   915 00000756 B80020                  	mov ax, 0x2000
   916 00000759 B95000                  	mov cx, 80
   917                                  
   918 0000075C FC                      	cld 
   919 0000075D F3AB                    	rep stosw		
   920                                  
   921 0000075F 59                      	pop cx
   922 00000760 5F                      	pop di
   923 00000761 58                      	pop ax
   924 00000762 07                      	pop es
   925 00000763 C3                      	ret
   926                                  
   927                                  ;--------------------------------------------------------------------
   928                                  ; subroutine for MIDBackGround_Printing
   929                                  ;--------------------------------------------------------------------
   930                                  Print_mid_Background:	
   931 00000764 06                      	push es
   932 00000765 50                      	push ax
   933 00000766 57                      	push di
   934 00000767 51                      	push cx
   935                                  					
   936 00000768 B800B8                  	mov ax, 0xb800
   937 0000076B 8EC0                    	mov es, ax		
   938                                  		
   939 0000076D BF4006                  	mov di, 1600
   940 00000770 B82007                  	mov ax, 0x0720	
   941 00000773 B9A005                  	mov cx, 1440
   942                                  	
   943 00000776 FC                      	cld
   944 00000777 F3AB                    	rep stosw			
   945                                  
   946 00000779 59                      	pop cx
   947 0000077A 5F                      	pop di
   948 0000077B 58                      	pop ax
   949 0000077C 07                      	pop es
   950 0000077D C3                      	ret
   951                                  
   952                                  
   953                                  ;--------------------------------------------------------------------
   954                                  ; subroutine for River Printing
   955                                  ;--------------------------------------------------------------------
   956                                  
   957                                  Print_River:		
   958 0000077E 06                      	push es
   959 0000077F 50                      	push ax
   960 00000780 57                      	push di
   961 00000781 51                      	push cx
   962                                  		
   963                                  	
   964 00000782 B800B8                  	mov ax, 0xb800
   965 00000785 8EC0                    	mov es, ax	
   966                                  		
   967 00000787 BF400B                  	mov di, 2880				
   968 0000078A B80010                  	mov ax, 0x1000	
   969 0000078D B9A005                  	mov cx, 1440
   970                                  	
   971 00000790 FC                      	cld
   972 00000791 F3AB                    	rep stosw				
   973                                  
   974 00000793 59                      	pop cx
   975 00000794 5F                      	pop di
   976 00000795 58                      	pop ax
   977 00000796 07                      	pop es
   978 00000797 C3                      	ret
   979                                  
   980                                  
   981                                  ;--------------------------------------------------------------------
   982                                  ; subroutine for Sun Printing
   983                                  ;--------------------------------------------------------------------
   984                                  
   985                                  Print_Sun:		
   986 00000798 55                      	push bp
   987 00000799 89E5                    	mov bp, sp
   988 0000079B 06                      	push es
   989 0000079C 50                      	push ax
   990 0000079D 56                      	push si
   991                                  
   992 0000079E 8B7E04                  	mov di, [bp+4]
   993 000007A1 B800B8                  	mov ax, 0xb800
   994 000007A4 8EC0                    	mov es, ax				
   995 000007A6 89F8                    	mov ax, di
   996 000007A8 B90400                  	mov cx, 4
   997                                  			
   998                                  	sun: 			
   999 000007AB 26C705DB0E              		mov word [es:di], 0x0EDB
  1000 000007B0 83C702                  		add di, 2
  1001 000007B3 26C705DB0E              		mov word [es:di], 0x0EDB
  1002 000007B8 83EF04                  		sub di, 4
  1003 000007BB 26C705DB0E              		mov word [es:di], 0x0EDB
  1004                                  
  1005 000007C0 89C7                    		mov di, ax
  1006 000007C2 81C7A000                		add di, 160
  1007 000007C6 83E902                  		sub cx, 2
  1008                                  
  1009 000007C9 75E0                    		jne sun
  1010                                  		
  1011 000007CB 5E                      		pop si
  1012 000007CC 58                      		pop ax
  1013 000007CD 07                      		pop es
  1014 000007CE 5D                      		pop bp
  1015                                  		
  1016 000007CF C20200                  	ret 2
  1017                                  
  1018                                  
  1019                                  ;-------------------------------------------------------------------
  1020                                  ; -------------------------1st Portion------------------------------			    
  1021                                  ;-------------------------------------------------------------------							
  1022                                  
  1023                                  building1:
  1024 000007D2 50                              push ax
  1025 000007D3 52                              push dx
  1026 000007D4 53                              push bx
  1027 000007D5 BA3D78                          mov dx,0x783D
  1028 000007D8 BB0000                          mov bx, 0
  1029                                  
  1030                                          ;----------------building1------------------
  1031 000007DB 52                              push dx
  1032 000007DC 680005                          push 1280 ;marks where the row is
  1033 000007DF B80500                          mov ax,5 ;height jitni
  1034 000007E2 50                              push ax
  1035 000007E3 B80400                          mov ax, 4 ;width jistnihai rect ki
  1036 000007E6 50                              push ax
  1037 000007E7 6A0A                            push 10 ;col num where the drawing starts
  1038 000007E9 E8C901                          call draw
  1039                                  
  1040                                          ;------------------building2-------------------
  1041 000007EC 52                              push dx
  1042 000007ED 680005                          push 1280 ;marks where the row is
  1043 000007F0 B80100                          mov ax,1 ;height jitni
  1044 000007F3 50                              push ax
  1045 000007F4 B80100                          mov ax, 1 ;width jistnihai rect ki
  1046 000007F7 50                              push ax
  1047 000007F8 6A10                            push 16 ;col num where the drawing starts
  1048 000007FA E8B801                          call draw
  1049                                          ;--------------building3-----------------------
  1050 000007FD 52                              push dx
  1051 000007FE 680005                          push 1280 ;marks where the row is
  1052 00000801 B80900                          mov ax,9 ;height jitni
  1053 00000804 50                              push ax
  1054 00000805 B80300                          mov ax, 3 ;width jistnihai rect ki
  1055 00000808 50                              push ax
  1056 00000809 6A10                            push 16 ;col num where the drawing starts
  1057 0000080B E8A701                          call draw
  1058                                  
  1059 0000080E 5B                                  pop bx
  1060 0000080F 5A                              pop dx
  1061 00000810 58                              pop ax
  1062 00000811 C3                              ret
  1063                                  
  1064                                          building2:
  1065                                  
  1066 00000812 50                              push ax
  1067 00000813 52                              push dx
  1068 00000814 53                              push bx
  1069 00000815 BA3D78                          mov dx,0x783D
  1070 00000818 BB0000                          mov bx, 0
  1071                                  
  1072                                  
  1073                                          ;-----------------------building4------------------
  1074 0000081B 52                              push dx
  1075 0000081C 680005                          push 1280 ;marks where the row is
  1076 0000081F B80300                          mov ax,3 ;height jitni
  1077 00000822 50                              push ax
  1078 00000823 B80500                          mov ax, 5 ;width jistnihai rect ki
  1079 00000826 50                              push ax
  1080 00000827 6A14                            push 20 ;col num where the drawing starts
  1081 00000829 E88901                          call draw
  1082                                  
  1083                                          ;----------------------building5----------------------
  1084 0000082C 52                              push dx
  1085 0000082D 680005                          push 1280 ;marks where the row is
  1086 00000830 B80900                          mov ax,9 ;height jitni
  1087 00000833 50                              push ax
  1088 00000834 B80300                          mov ax, 3 ;width jistnihai rect ki
  1089 00000837 50                              push ax
  1090 00000838 6A28                            push 40 ;col num where the drawing starts
  1091 0000083A E87801                          call draw
  1092                                  
  1093 0000083D 5B                              pop bx
  1094 0000083E 5A                              pop dx
  1095 0000083F 58                              pop ax
  1096 00000840 C3                              ret
  1097                                  
  1098                                          building3:
  1099                                  
  1100 00000841 50                              push ax
  1101 00000842 52                              push dx
  1102 00000843 53                              push bx
  1103 00000844 BA3D78                          mov dx,0x783D
  1104 00000847 BB0000                          mov bx, 0
  1105                                  
  1106                                          ;-----------------building6----------------------------
  1107 0000084A 52                              push dx
  1108 0000084B 680005                          push 1280 ;marks where the row is
  1109 0000084E B80700                          mov ax,7 ;height jitni
  1110 00000851 50                              push ax
  1111 00000852 B80300                          mov ax, 3 ;width jistnihai rect ki
  1112 00000855 50                              push ax
  1113 00000856 6A2E                            push 46 ;col num where the drawing starts
  1114 00000858 E85A01                          call draw
  1115                                  
  1116                                          ;-------------------building7--------------------------
  1117 0000085B 52                              push dx
  1118 0000085C 680005                          push 1280 ;marks where the row is
  1119 0000085F B80800                          mov ax,8 ;height jitni
  1120 00000862 50                              push ax
  1121 00000863 B80200                          mov ax, 2 ;width jistnihai rect ki
  1122 00000866 50                              push ax
  1123 00000867 6A38                            push 56 ;col num where the drawing starts
  1124 00000869 E84901                          call draw
  1125 0000086C 5B                              pop bx
  1126 0000086D 5A                              pop dx
  1127 0000086E 58                              pop ax
  1128 0000086F C3                              ret
  1129                                  
  1130                                  
  1131                                          building4:
  1132                                  
  1133 00000870 50                                  push ax
  1134 00000871 52                              push dx
  1135 00000872 53                              push bx
  1136 00000873 BA3D78                          mov dx,0x783D
  1137 00000876 BB0000                          mov bx, 0
  1138                                  
  1139                                          ;---------------------building8---------------------------
  1140 00000879 52                              push dx
  1141 0000087A 680005                          push 1280 ;marks where the row is
  1142 0000087D B80500                          mov ax,5 ;height jitni
  1143 00000880 50                              push ax
  1144 00000881 B80300                          mov ax, 3 ;width jistnihai rect ki
  1145 00000884 50                              push ax
  1146 00000885 6A3C                            push 60 ;col num where the drawing starts
  1147 00000887 E82B01                          call draw
  1148                                  
  1149                                          ;----------------------building9---------------------------
  1150 0000088A 52                              push dx
  1151 0000088B 680005                          push 1280 ;marks where the row is
  1152 0000088E B80500                          mov ax,5 ;height jitni
  1153 00000891 50                              push ax
  1154 00000892 B80700                          mov ax, 7 ;width jistnihai rect ki
  1155 00000895 50                              push ax
  1156 00000896 6A44                            push 68 ;col num where the drawing starts
  1157 00000898 E81A01                          call draw
  1158                                  
  1159                                          ;----------------------building10---------------------------
  1160 0000089B 52                              push dx
  1161 0000089C 680005                          push 1280 ;marks where the row is
  1162 0000089F B80700                          mov ax,7 ;height jitni
  1163 000008A2 50                              push ax
  1164 000008A3 B80500                          mov ax, 5 ;width jistnihai rect ki
  1165 000008A6 50                              push ax
  1166 000008A7 6A4C                            push 76 ;col num where the drawing starts
  1167 000008A9 E80901                          call draw
  1168                                  
  1169                                          ;----------------------building11---------------------------
  1170 000008AC 52                              push dx
  1171 000008AD 680005                          push 1280 ;marks where the row is
  1172 000008B0 B80900                          mov ax,9 ;height jitni
  1173 000008B3 50                              push ax
  1174 000008B4 B80300                          mov ax, 3 ;width jistnihai rect ki
  1175 000008B7 50                              push ax
  1176 000008B8 6A52                            push 82 ;col num where the drawing starts
  1177 000008BA E8F800                          call draw
  1178                                  
  1179                                          ;----------------------building11---------------------------
  1180 000008BD 52                              push dx
  1181 000008BE 680005                          push 1280 ;marks where the row is
  1182 000008C1 B80500                          mov ax,5 ;height jitni
  1183 000008C4 50                              push ax
  1184 000008C5 B80500                          mov ax, 5 ;width jistnihai rect ki
  1185 000008C8 50                              push ax
  1186 000008C9 6A56                            push 86 ;col num where the drawing starts
  1187 000008CB E8E700                          call draw
  1188                                  
  1189                                  
  1190 000008CE 5B                              pop bx
  1191 000008CF 5A                              pop dx
  1192 000008D0 58                              pop ax
  1193 000008D1 C3                              ret
  1194                                  
  1195                                          building5:
  1196                                  
  1197 000008D2 50                                  push ax
  1198 000008D3 52                              push dx
  1199 000008D4 53                              push bx
  1200 000008D5 BA3D78                          mov dx,0x783D
  1201 000008D8 BB0000                          mov bx, 0
  1202                                  
  1203                                          ;----------------------building11---------------------------
  1204 000008DB 52                              push dx
  1205 000008DC 680005                          push 1280 ;marks where the row is
  1206 000008DF B80900                          mov ax,9 ;height jitni
  1207 000008E2 50                              push ax
  1208 000008E3 B80100                          mov ax, 1 ;width jistnihai rect ki
  1209 000008E6 50                              push ax
  1210 000008E7 6A5C                            push 92 ;col num where the drawing starts
  1211 000008E9 E8C900                          call draw
  1212                                          ;----------------------building12---------------------------
  1213 000008EC 52                              push dx
  1214 000008ED 680005                          push 1280 ;marks where the row is
  1215 000008F0 B80700                          mov ax,7 ;height jitni
  1216 000008F3 50                              push ax
  1217 000008F4 B80600                          mov ax, 6 ;width jistnihai rect ki
  1218 000008F7 50                              push ax
  1219 000008F8 6A64                            push 100 ;col num where the drawing starts
  1220 000008FA E8B800                          call draw
  1221                                  
  1222                                          ;----------------------building12---------------------------
  1223 000008FD 52                              push dx
  1224 000008FE 680005                          push 1280 ;marks where the row is
  1225 00000901 B80500                          mov ax,5 ;height jitni
  1226 00000904 50                              push ax
  1227 00000905 B80500                          mov ax, 5 ;width jistnihai rect ki
  1228 00000908 50                              push ax
  1229 00000909 6A6A                            push 106 ;col num where the drawing starts
  1230 0000090B E8A700                          call draw
  1231                                  
  1232 0000090E 5B                              pop bx
  1233 0000090F 5A                              pop dx
  1234 00000910 58                              pop ax
  1235 00000911 C3                              ret
  1236                                  
  1237                                  
  1238                                          building6:
  1239                                  
  1240 00000912 50                                      push ax
  1241 00000913 52                              push dx
  1242 00000914 53                              push bx
  1243 00000915 BA3D78                          mov dx,0x783D
  1244 00000918 BB0000                          mov bx, 0
  1245                                  
  1246                                  
  1247                                          ;----------------------building13---------------------------
  1248 0000091B 52                              push dx
  1249 0000091C 680005                          push 1280 ;marks where the row is
  1250 0000091F B80300                          mov ax,3 ;height jitni
  1251 00000922 50                              push ax
  1252 00000923 B80600                          mov ax, 6 ;width jistnihai rect ki
  1253 00000926 50                              push ax
  1254 00000927 6A70                            push 112 ;col num where the drawing starts
  1255 00000929 E88900                          call draw
  1256                                  
  1257                                          ;----------------------building14---------------------------
  1258 0000092C 52                              push dx
  1259 0000092D 680005                          push 1280 ;marks where the row is
  1260 00000930 B80300                          mov ax,3 ;height jitni
  1261 00000933 50                              push ax
  1262 00000934 B80400                          mov ax,4 ;width jistnihai rect ki
  1263 00000937 50                              push ax
  1264 00000938 6A76                            push 118 ;col num where the drawing starts
  1265 0000093A E87800                          call draw
  1266                                  
  1267                                  
  1268 0000093D 5B                              pop bx
  1269 0000093E 5A                              pop dx
  1270 0000093F 58                              pop ax
  1271 00000940 C3                              ret
  1272                                  
  1273                                      building7:
  1274                                  
  1275 00000941 50                                      push ax
  1276 00000942 52                              push dx
  1277 00000943 53                              push bx
  1278 00000944 BA3D78                          mov dx,0x783D
  1279 00000947 BB0000                          mov bx, 0
  1280                                  
  1281                                          ;----------------------building14---------------------------
  1282 0000094A 52                              push dx
  1283 0000094B 680005                          push 1280 ;marks where the row is
  1284 0000094E B80700                          mov ax,7 ;height jitni
  1285 00000951 50                              push ax
  1286 00000952 B80300                          mov ax, 3 ;width jistnihai rect ki
  1287 00000955 50                              push ax
  1288 00000956 688000                          push 128 ;col num where the drawing starts
  1289 00000959 E85900                          call draw
  1290                                          ;----------------------building15---------------------------
  1291 0000095C 52                              push dx
  1292 0000095D 680005                          push 1280 ;marks where the row is
  1293 00000960 B80900                          mov ax,9 ;height jitni
  1294 00000963 50                              push ax
  1295 00000964 B80100                          mov ax, 1 ;width jistnihai rect ki
  1296 00000967 50                              push ax
  1297 00000968 688400                          push 132 ;col num where the drawing starts
  1298 0000096B E84700                          call draw
  1299                                  
  1300 0000096E 5B                              pop bx
  1301 0000096F 5A                              pop dx
  1302 00000970 58                              pop ax
  1303 00000971 C3                              ret
  1304                                  
  1305                                          building8:
  1306 00000972 50                                      push ax
  1307 00000973 52                              push dx
  1308 00000974 53                              push bx
  1309 00000975 BA3D78                          mov dx,0x783D
  1310 00000978 BB0000                          mov bx, 0
  1311                                  
  1312                                          ;----------------------building16---------------------------
  1313 0000097B 52                              push dx
  1314 0000097C 680005                          push 1280 ;marks where the row is
  1315 0000097F B80700                          mov ax,7 ;height jitni
  1316 00000982 50                              push ax
  1317 00000983 B80200                          mov ax, 2 ;width jistnihai rect ki
  1318 00000986 50                              push ax
  1319 00000987 688C00                          push 140 ;col num where the drawing starts
  1320 0000098A E82800                          call draw
  1321                                          ;----------------------building17---------------------------
  1322 0000098D 52                              push dx
  1323 0000098E 680005                          push 1280 ;marks where the row is
  1324 00000991 B80800                          mov ax,8 ;height jitni
  1325 00000994 50                              push ax
  1326 00000995 B80200                          mov ax, 2 ;width jistnihai rect ki
  1327 00000998 50                              push ax
  1328 00000999 689000                          push 144 ;col num where the drawing starts
  1329 0000099C E81600                          call draw
  1330                                          ;----------------------building18---------------------------
  1331 0000099F 52                              push dx
  1332 000009A0 680005                          push 1280 ;marks where the row is
  1333 000009A3 B80900                          mov ax,9 ;height jitni
  1334 000009A6 50                              push ax
  1335 000009A7 B80200                          mov ax, 2 ;width jistnihai rect ki
  1336 000009AA 50                              push ax
  1337 000009AB 689400                          push 148 ;col num where the drawing starts
  1338 000009AE E80400                          call draw
  1339                                  
  1340 000009B1 5B                              pop bx
  1341 000009B2 5A                              pop dx
  1342 000009B3 58                              pop ax
  1343 000009B4 C3                              ret
  1344                                  
  1345                                  
  1346                                  draw: ;-------------------------------------drawsrtart
  1347 000009B5 55                          push bp                                    
  1348 000009B6 89E5                        mov bp,sp                                  
  1349 000009B8 50                          push ax
  1350 000009B9 06                          push es
  1351 000009BA 57                          push di
  1352 000009BB 51                          push cx
  1353 000009BC 52                          push dx
  1354 000009BD 53                          push bx
  1355                                  
  1356 000009BE B800B8                      mov ax,0xb800
  1357 000009C1 8EC0                        mov es,ax
  1358 000009C3 8B7E0A                      mov di,[bp+10]
  1359 000009C6 037E04                      add di,[bp+4]
  1360 000009C9 8B5608                      mov dx,[bp+8] ;height
  1361 000009CC 8B5E0C                      mov bx,[bp+12]
  1362                                  
  1363                                      heightloop:
  1364 000009CF 8B4E06                      mov cx,[bp+6] ;width
  1365                                      inner:
  1366 000009D2 26891D                      mov word [es:di],bx
  1367 000009D5 83C702                      add di,2
  1368 000009D8 E2F8                        loop inner
  1369 000009DA 8B4606                      mov ax,[bp+6]
  1370 000009DD D1E0                        shl ax,1
  1371 000009DF 05A000                      add ax,160
  1372 000009E2 29C7                        sub di,ax
  1373 000009E4 4A                          dec dx
  1374 000009E5 83FA00                      cmp dx,0
  1375 000009E8 75E5                        jne heightloop
  1376                                  
  1377 000009EA 5B                          pop bx
  1378 000009EB 5A                          pop dx
  1379 000009EC 59                          pop cx
  1380 000009ED 5F                          pop di
  1381 000009EE 07                          pop es
  1382 000009EF 58                          pop ax
  1383 000009F0 5D                          pop bp
  1384 000009F1 C20A00                      ret 10 ;------------------------------------drawend
  1385                                  
  1386                                  ;--------------------------------------------------------------------
  1387                                  
  1388                                  
  1389                                  ;-------------------------------------------------------------------
  1390                                  ; -------------------------2nd Portion------------------------------			    
  1391                                  ;-------------------------------------------------------------------
  1392                                   
  1393                                  make_stripes:
  1394 000009F4 50                          push ax
  1395 000009F5 51                          push cx
  1396 000009F6 B90000                      mov cx,0
  1397                                      r:
  1398 000009F9 B4F7                        mov ah,0xf7;color
  1399 000009FB B020                        mov al,0x20 ;ascii for space is 20, hex ascii dalte ismein, jo print krani
  1400 000009FD 50                          push ax
  1401 000009FE 688007                      push 1920 ;marks where the row is
  1402 00000A01 B80100                      mov ax,1 ;height jitni
  1403 00000A04 50                          push ax
  1404 00000A05 B80600                      mov ax,6 ;width jistnihai rect ki
  1405 00000A08 50                          push ax
  1406 00000A09 51                          push cx ;col num where the drawing starts
  1407 00000A0A E8A8FF                      call draw
  1408 00000A0D 83C114                      add cx,20
  1409 00000A10 81F9A000                    cmp cx,160
  1410 00000A14 75E3                        jne r
  1411 00000A16 59                          pop cx
  1412 00000A17 58                          pop ax
  1413 00000A18 C3                          ret
  1414                                  
  1415                                  ;--------------------------------------------------------_------------
  1416                                  
  1417                                  ;--------------------------------------------------------------------
  1418                                  ; subroutine for SkyMovement
  1419                                  ;--------------------------------------------------------------------
  1420                                  
  1421                                  Sky_Movements:		
  1422                                  
  1423 00000A19 55                      	push bp
  1424 00000A1A 50                      	push ax
  1425 00000A1B 53                      	push bx
  1426 00000A1C 51                      	push cx
  1427 00000A1D 52                      	push dx
  1428 00000A1E 56                      	push si
  1429 00000A1F 57                      	push di
  1430                                  
  1431 00000A20 BA0000                  	mov dx, 0
  1432 00000A23 BB0000                  	mov bx, 0
  1433 00000A26 B800B8                  	mov ax, 0xb800
  1434 00000A29 8EC0                    	mov es, ax
  1435 00000A2B 8ED8                    	mov ds, ax
  1436                                  
  1437                                  	left_movement:
  1438                                  
  1439 00000A2D 89D7                    		mov di, dx
  1440 00000A2F 89FE                    		mov si, di
  1441 00000A31 83C602                  		add si, 2
  1442 00000A34 B95000                  		mov cx, 80     
  1443                                  
  1444 00000A37 268B2D                  		mov bp, [es:di] 
  1445                                  
  1446 00000A3A FC                      		cld
  1447 00000A3B F3A5                    		rep movsw
  1448 00000A3D 83EE04                  		sub si, 4         
  1449 00000A40 26892C                  		mov [es:si] , bp
  1450                                  
  1451 00000A43 81C2A000                		add dx, 160
  1452 00000A47 43                      	    inc bx
  1453 00000A48 83FB09                  	    cmp bx, 9
  1454 00000A4B 75E0                    		jne left_movement
  1455                                  
  1456 00000A4D 5F                      	pop di
  1457 00000A4E 5E                      	pop si
  1458 00000A4F 5A                      	pop dx
  1459 00000A50 59                      	pop cx
  1460 00000A51 5B                      	pop bx
  1461 00000A52 58                      	pop ax
  1462 00000A53 5D                      	pop bp
  1463                                      
  1464 00000A54 C3                          ret		
  1465                                  ;--------------------------------------------------------------------
  1466                                  ; subroutine for Ship_Movement
  1467                                  ;--------------------------------------------------------------------
  1468                                  
  1469                                  mid_Movements:		
  1470                                  	
  1471 00000A55 55                      	push bp
  1472 00000A56 50                      	push ax
  1473 00000A57 53                      	push bx
  1474 00000A58 51                      	push cx
  1475 00000A59 52                      	push dx
  1476 00000A5A 56                      	push si
  1477 00000A5B 57                      	push di
  1478                                      
  1479 00000A5C B800B8                  	mov ax, 0xb800
  1480 00000A5F BB0000                      mov bx, 0
  1481 00000A62 8EC0                        mov es, ax
  1482 00000A64 8ED8                        mov ds, ax
  1483 00000A66 B80000                      mov ax, 0
  1484 00000A69 BADE06                      mov dx, 1758	
  1485                                  
  1486                                      right_movement:
  1487                                          
  1488 00000A6C B95000                      	mov cx, 80     
  1489 00000A6F 89D7                        	mov di, dx
  1490 00000A71 89FE                        	mov si, di
  1491 00000A73 83EE02                      	sub si, 2
  1492                                  
  1493 00000A76 268B2D                      	mov bp, [es:di] 
  1494                                  	
  1495 00000A79 FD                          	std
  1496 00000A7A F3A5                        	rep movsw
  1497                                  
  1498 00000A7C 83C604                      	add si, 4      
  1499 00000A7F 26892C                      	mov [es:si] , bp
  1500                                  
  1501 00000A82 81C2A000                    	    add dx, 160
  1502 00000A86 83C301                      	    add bx, 1
  1503 00000A89 83FB09                      	    cmp bx, 9
  1504                                  
  1505 00000A8C 75DE                        	jne right_movement
  1506                                      
  1507 00000A8E 5F                      	pop di
  1508 00000A8F 5E                      	pop si
  1509 00000A90 5A                      	pop dx
  1510 00000A91 59                      	pop cx
  1511 00000A92 5B                      	pop bx
  1512 00000A93 58                      	pop ax
  1513 00000A94 5D                      	pop bp
  1514                                  
  1515 00000A95 C3                          ret	
  1516                                  
  1517                                  
  1518                                  
  1519                                  
  1520                                  
  1521 00000A96 55                          push bp
  1522 00000A97 89E5                        mov bp,sp
  1523 00000A99 50                          push ax
  1524 00000A9A 53                          push bx
  1525                                  
  1526 00000A9B B8A000                      mov ax,160
  1527 00000A9E F76604                      mul word [bp+4]
  1528 00000AA1 89C3                        mov bx,ax
  1529                                  
  1530                                      ;obj
  1531 00000AA3 B40C                        mov ah,0x0C ;color
  1532 00000AA5 B03C                        mov al,0x3C ;ascii for space is 20, hex ascii dalte ismein, jo print krani
  1533 00000AA7 50                          push ax
  1534 00000AA8 53                          push bx ;marks where the row is
  1535 00000AA9 B80100                      mov ax,1 ;height jitni
  1536 00000AAC 50                          push ax
  1537 00000AAD B80100                      mov ax, 1 ;width jistnihai rect ki
  1538 00000AB0 50                          push ax
  1539 00000AB1 6A4E                        push 78 ;col num where the drawing starts
  1540 00000AB3 E8FFFE                      call draw
  1541                                  
  1542 00000AB6 B40C                        mov ah,0x0C ;color
  1543 00000AB8 B03E                        mov al,0x3E ;ascii for space is 20, hex ascii dalte ismein, jo print krani
  1544 00000ABA 50                          push ax
  1545 00000ABB 53                          push bx ;marks where the row is
  1546 00000ABC B80100                      mov ax,1 ;height jitni
  1547 00000ABF 50                          push ax
  1548 00000AC0 B80100                      mov ax, 1 ;width jistnihai rect ki
  1549 00000AC3 50                          push ax
  1550 00000AC4 6A52                        push 82 ;col num where the drawing starts
  1551 00000AC6 E8ECFE                      call draw
  1552                                  
  1553 00000AC9 B40C                        mov ah,0x0C ;color
  1554 00000ACB B05E                        mov al,0x5E ;ascii for space is 20, hex ascii dalte ismein, jo print krani
  1555 00000ACD 50                          push ax
  1556 00000ACE 53                          push bx ;marks where the row is
  1557 00000ACF B80100                      mov ax,1 ;height jitni
  1558 00000AD2 50                          push ax
  1559 00000AD3 B80100                      mov ax, 1 ;width jistnihai rect ki
  1560 00000AD6 50                          push ax
  1561 00000AD7 6A50                        push 80 ;col num where the drawing starts
  1562 00000AD9 E8D9FE                      call draw
  1563                                  
  1564                                  
  1565 00000ADC 5B                          pop bx
  1566 00000ADD 58                          pop ax
  1567 00000ADE 5D                          pop bp
  1568 00000ADF C20200                      ret 2
  1569                                  
  1570                                  
  1571                                  
  1572                                  
  1573                                  
  1574                                  
  1575                                  
  1576                                  
  1577                                  
  1578                                  ;-------------------------------------------------------------
  1579                                  ;for game----------------------------------------------------
  1580                                  ;-------------------------------------------------------==--===
  1581                                  
  1582                                  
  1583                                  ; -------------------------------------------------------------------
  1584                                  ; subroutine for mycode
  1585                                  ;--------------------------------------------------------------------
  1586                                  
  1587                                  mycode:
  1588                                     
  1589 00000AE2 55                      	push bp
  1590 00000AE3 89E5                    	mov bp,sp
  1591 00000AE5 60                      	pusha
  1592                                  	
  1593 00000AE6 B800B8                  	mov ax,0xb800
  1594 00000AE9 8EC0                    	mov es,ax
  1595 00000AEB B200                        mov dl,0
  1596 00000AED 025608                      add dl,byte[bp+8]
  1597                                      pb:
  1598 00000AF0 B050                    	    mov al,80
  1599 00000AF2 F6E2                    	    mul dl 
  1600 00000AF4 03460A                  	    add ax, [bp+10] 
  1601 00000AF7 D1E0                    	    shl ax,1
  1602 00000AF9 89C7                    	    mov di,ax
  1603 00000AFB 8B460C                  	    mov ax,[bp+12] 
  1604 00000AFE 8B4E06                  	    mov cx,[bp+6] 
  1605                                  	
  1606 00000B01 FC                      	    cld
  1607 00000B02 F3AB                    	    rep stosw
  1608                                  
  1609 00000B04 80C201                          add dl,1
  1610 00000B07 3A5604                          cmp dl, byte[bp+4] 
  1611 00000B0A 75E4                            jne pb
  1612 00000B0C 61                      	popa
  1613 00000B0D 5D                      	pop bp 
  1614 00000B0E C20A00                  	ret 10
  1615                                  
  1616                                  
  1617                                  
  1618                                  
  1619                                  
  1620                                  
  1621                                  
  1622                                  ;.......................................................Play Screen.......................................................;	
  1623                                  Intro:
  1624 00000B11 B800B8                      mov ax,0xb800
  1625 00000B14 8EC0                        mov es,ax
  1626 00000B16 8ED8                        mov ds,ax
  1627 00000B18 BF0000                      mov di,0
  1628 00000B1B B93002                      mov cx,560
  1629                                  UperPart: ;uper Border
  1630 00000B1E 26C705B101                  mov word[es:di],0x01B1
  1631 00000B23 83C702                      add di,2
  1632 00000B26 83E901                      sub cx,1
  1633 00000B29 83F900                      cmp cx,0
  1634 00000B2C 75F0                        jne UperPart
  1635 00000B2E B97003                      mov cx,880
  1636                                  Playbutton:  ;Play Section
  1637 00000B31 26C7052000                  mov word[es:di],0x0020
  1638 00000B36 83C702                      add di,2
  1639 00000B39 83E901                      sub cx,1
  1640 00000B3C 83F900                      cmp cx,0
  1641 00000B3F 75F0                        jne Playbutton
  1642 00000B41 B93002                      mov cx,560 
  1643                                  DownPart: ;Down Section
  1644 00000B44 26C705B101                  mov word[es:di],0x01B1
  1645 00000B49 83C702                      add di,2
  1646 00000B4C 83E901                      sub cx,1
  1647 00000B4F 83F900                      cmp cx,0
  1648 00000B52 75F0                        jne DownPart
  1649                                  
  1650                                  
  1651                                    ;.......................................................play.......................................................;	
  1652 00000B54 BFC607                      mov di,1990
  1653 00000B57 26C7055087                  mov word[es:di],0x8750
  1654 00000B5C 83C704                      add di,4
  1655 00000B5F 26C7051082                  mov word[es:di],0x8210
  1656 00000B64 83C706                      add di,6
  1657 00000B67 26C7055085                  mov word[es:di],0x8550
  1658 00000B6C 83C702                      add di,2
  1659 00000B6F 26C7054C85                  mov word[es:di],0x854C
  1660 00000B74 83C702                      add di,2
  1661 00000B77 26C7054185                  mov word[es:di],0x8541
  1662 00000B7C 83C702                      add di,2
  1663 00000B7F 26C7055985                  mov word[es:di],0x8559
  1664 00000B84 81C79000                    add di,144
  1665 00000B88 81C74001                    add di,320
  1666                                      ;Print LEft
  1667 00000B8C 26C7051107                  mov word[es:di],0x0711
  1668 00000B91 83C704                      add di,4
  1669 00000B94 26C7053A02                  mov word[es:di],0x023A
  1670 00000B99 83C706                      add di,6
  1671 00000B9C 26C7054C05                  mov word[es:di],0x054C
  1672 00000BA1 83C702                      add di,2
  1673 00000BA4 26C7054505                  mov word[es:di],0x0545
  1674 00000BA9 83C702                      add di,2
  1675 00000BAC 26C7054605                  mov word[es:di],0x0546
  1676 00000BB1 83C702                      add di,2
  1677 00000BB4 26C7055405                  mov word[es:di],0x0554
  1678 00000BB9 81C79000                    add di,144
  1679                                      ;Print Right
  1680 00000BBD 26C7051007                  mov word[es:di],0x0710
  1681 00000BC2 83C704                      add di,4
  1682 00000BC5 26C7053A02                  mov word[es:di],0x023A
  1683 00000BCA 83C706                      add di,6
  1684 00000BCD 26C7055205                  mov word[es:di],0x0552 
  1685 00000BD2 83C702                      add di,2
  1686 00000BD5 26C7054905                  mov word[es:di],0x0549
  1687 00000BDA 83C702                      add di,2
  1688 00000BDD 26C7054705                  mov word[es:di],0x0547
  1689 00000BE2 83C702                      add di,2
  1690 00000BE5 26C7054805                  mov word[es:di],0x0548
  1691 00000BEA 83C702                      add di,2
  1692 00000BED 26C7055405                  mov word[es:di],0x0554
  1693                                  
  1694 00000BF2 C3                          ret
  1695                                  ;subroutine to print three on the screen
  1696                                  three:
  1697 00000BF3 50                      	push ax
  1698 00000BF4 51                      	push cx
  1699 00000BF5 57                      	push di
  1700                                  	
  1701 00000BF6 B800B8                  	mov ax, 0xb800
  1702 00000BF9 8EC0                    	mov es, ax
  1703 00000BFB B8DB06                  	mov ax, 0x06db
  1704                                  	
  1705 00000BFE BF2002                  		mov di, 544 ; (80*3+32)*2
  1706 00000C01 B91200                  		mov cx, 18
  1707                                  			horizontal_lines_for3:
  1708 00000C04 268905                  				mov word [es:di], ax ; (80*3+32)*2
  1709 00000C07 2689850005              				mov word [es:di + 1280], ax ; (80*11+32)*2
  1710 00000C0C 268985000A              				mov word [es:di + 2560], ax ; (80*19+32)*2
  1711 00000C11 83C702                  				add di, 2
  1712 00000C14 E2EE                    			loop horizontal_lines_for3
  1713                                  	
  1714 00000C16 BFE202                  		mov di, 738 ; (80*4+49)*2
  1715 00000C19 B90700                  		mov cx, 7
  1716                                  			vertical_lines_for3:
  1717 00000C1C 268905                  				mov word [es:di], ax ; (80*4+49)*2
  1718 00000C1F 2689850005              				mov word [es:di + 1280], ax ; (80*12+49)*2
  1719 00000C24 83C702                  				add di, 2
  1720 00000C27 268905                  				mov word [es:di], ax ; (80*4+50)*2 
  1721 00000C2A 2689850005              				mov word [es:di + 1280], ax ; (80*12+50)*2
  1722 00000C2F 81C79E00                				add di, 158
  1723 00000C33 E2E7                    			loop vertical_lines_for3
  1724                                  	
  1725 00000C35 5F                      	pop di
  1726 00000C36 59                      	pop cx
  1727 00000C37 58                      	pop ax
  1728                                  	
  1729 00000C38 C3                      	ret
  1730                                  ;subroutine to print two on the screen	
  1731                                  two:
  1732 00000C39 50                      	push ax
  1733 00000C3A 51                      	push cx
  1734 00000C3B 57                      	push di
  1735                                  	
  1736 00000C3C B800B8                  	mov ax, 0xb800
  1737 00000C3F 8EC0                    	mov es, ax
  1738 00000C41 B8DB06                  	mov ax, 0x06db
  1739                                  	
  1740 00000C44 BF2002                  		mov di, 544 ; (80*3+32)*2
  1741 00000C47 B91200                  		mov cx, 18
  1742                                  			horizontal_lines_for2:
  1743 00000C4A 268905                  				mov word [es:di], ax ; (80*3+32)*2
  1744 00000C4D 2689850005              				mov word [es:di + 1280], ax ; (80*11+32)*2
  1745 00000C52 268985000A              				mov word [es:di + 2560], ax ; (80*19+32)*2
  1746 00000C57 83C702                  				add di, 2
  1747 00000C5A E2EE                    			loop horizontal_lines_for2
  1748                                  		
  1749 00000C5C BFE202                  		mov di, 738 ; (80*4+49)*2
  1750 00000C5F B90700                  		mov cx, 7
  1751                                  			vertical_lines_for2:
  1752 00000C62 268905                  				mov word [es:di], ax ; (80*4+49)*2
  1753 00000C65 268985DC04              				mov word [es:di + 1244], ax ; (80*12+31)*2
  1754 00000C6A 83C702                  				add di, 2
  1755 00000C6D 268905                  				mov word [es:di], ax ; (80*4+50)*2 
  1756 00000C70 268985DC04              				mov word [es:di + 1244], ax ; (80*12+32)*2
  1757 00000C75 81C79E00                				add di, 158
  1758 00000C79 E2E7                    			loop vertical_lines_for2
  1759                                  	
  1760 00000C7B 5F                      	pop di
  1761 00000C7C 59                      	pop cx
  1762 00000C7D 58                      	pop ax
  1763                                  	
  1764 00000C7E C3                      	ret
  1765                                  
  1766                                  ;subroutine to print one on the screen
  1767                                  one:
  1768 00000C7F 50                      	push ax
  1769 00000C80 51                      	push cx
  1770 00000C81 57                      	push di
  1771                                  	
  1772 00000C82 B800B8                  	mov ax, 0xb800
  1773 00000C85 8EC0                    	mov es, ax
  1774 00000C87 B8DB06                  	mov ax, 0x06db
  1775                                  	
  1776 00000C8A BF2E02                  		mov di, 558 ; (80*3+39)*2
  1777 00000C8D B91100                  		mov cx, 17
  1778                                  			vertical_line_for1:
  1779 00000C90 268905                  				mov word [es:di], ax ; (80*3+39)*2
  1780 00000C93 83C702                  				add di, 2
  1781 00000C96 268905                  				mov word [es:di], ax ; (80*3+40)*2
  1782 00000C99 81C79E00                				add di, 158
  1783 00000C9D E2F1                    			loop vertical_line_for1
  1784                                  	
  1785 00000C9F 5F                      	pop di
  1786 00000CA0 59                      	pop cx
  1787 00000CA1 58                      	pop ax
  1788                                  	
  1789 00000CA2 C3                      	ret
  1790                                  
  1791                                  ;subroutine to print GO alphabets on the screen
  1792                                  go:
  1793 00000CA3 50                      	push ax
  1794 00000CA4 51                      	push cx
  1795 00000CA5 57                      	push di
  1796                                  	
  1797 00000CA6 B800B8                  	mov ax, 0xb800
  1798 00000CA9 8EC0                    	mov es, ax
  1799 00000CAB B8DB06                  	mov ax, 0x06db
  1800                                  	
  1801 00000CAE BF0402                  		mov di, 516 ; (80*3+18)*2
  1802 00000CB1 B91000                  		mov cx, 16
  1803                                  			horizontal_lines_forGO:
  1804 00000CB4 268905                  				mov word [es:di], ax ; (80*3+18)*2
  1805 00000CB7 26894538                				mov word [es:di + 56], ax ; (80*3+46)*2
  1806 00000CBB 268985000A              				mov word [es:di + 2560], ax ; (80*19+18)*2
  1807 00000CC0 268985380A              				mov word [es:di + 2560 + 56], ax ; (80*19+46)*2
  1808 00000CC5 83C702                  				add di, 2
  1809 00000CC8 E2EA                    			loop horizontal_lines_forGO
  1810                                  		
  1811 00000CCA BFA202                  		mov di, 674 ; (80*4+17)*2 
  1812 00000CCD B90F00                  		mov cx, 15
  1813                                  			vertical_lines_forGO:
  1814 00000CD0 268905                  				mov word [es:di], ax ; (80*4+17)*2
  1815 00000CD3 26894538                				mov word [es:di + 56], ax ; (80*4+45)*2
  1816 00000CD7 26894558                				mov word [es:di + 88], ax ; (80*4+61)*2
  1817 00000CDB 83C702                  				add di, 2
  1818 00000CDE 268905                  				mov word [es:di], ax ; (80*4+18)*2 
  1819 00000CE1 26894538                				mov word [es:di + 56], ax ; (80*4+46)*2
  1820 00000CE5 26894558                				mov word [es:di + 88], ax ; (80*4+62)*2
  1821 00000CE9 81C79E00                				add di, 158
  1822 00000CED E2E1                    			loop vertical_lines_forGO
  1823                                  			
  1824 00000CEF BFC207                  		mov di, 1986 ; (80*12+33)*2
  1825 00000CF2 B90700                  		mov cx, 7
  1826                                  			small_vertical_lines_forGO:
  1827 00000CF5 268905                  				mov word [es:di], ax ; (80*12+33)*2
  1828 00000CF8 83C702                  				add di, 2
  1829 00000CFB 268905                  				mov word [es:di], ax ; (80*12+34)*2 
  1830 00000CFE 81C79E00                				add di, 158
  1831 00000D02 E2F1                    			loop small_vertical_lines_forGO
  1832                                  	
  1833 00000D04 5F                      	pop di
  1834 00000D05 59                      	pop cx
  1835 00000D06 58                      	pop ax
  1836                                  
  1837 00000D07 C3                      	ret
  1838                                  
  1839                                  ;subroutine to delay 20 in the program
  1840                                  ; delay:
  1841                                  	; push cx
  1842                                  	; mov cx, 20 ; change the values  to increase delay time
  1843                                       ; mov word [cs:timerflag], 1
  1844                                  	; _delay_loop1:
  1845                                  	; push cx
  1846                                       ; mov word [cs:timerflag], 1
  1847                                  	; mov cx, 0xFFFF
  1848                                  	; _delay_loop2:
  1849                                  	; loop _delay_loop2
  1850                                  	; pop cx
  1851                                  
  1852                                  	; loop _delay_loop1
  1853                                  	; pop cx
  1854                                       ; mov word [cs:timerflag], 1
  1855                                  	; ret
  1856                                  
  1857                                  delays:
  1858 00000D08 51                      	push cx
  1859 00000D09 2EC706[0500]0100             mov word [cs:timerflag], 1
  1860 00000D10 B90A00                  	mov cx, 10 ; change the values  to increase delay time
  1861 00000D13 2EC706[0500]0100             mov word [cs:timerflag], 1
  1862                                  	_delay_loop11:
  1863 00000D1A 51                      	push cx
  1864 00000D1B B9FFFF                  	mov cx, 0xFFFF
  1865 00000D1E 2EC706[0500]0100            mov word [cs:timerflag], 1
  1866                                  	_delay_loop21:
  1867 00000D25 E2FE                    	loop _delay_loop21
  1868 00000D27 2EC706[0500]0100            mov word [cs:timerflag], 1
  1869 00000D2E 59                      	pop cx
  1870 00000D2F E2E9                    	loop _delay_loop11
  1871 00000D31 2EC706[0500]0100            mov word [cs:timerflag], 1
  1872 00000D38 59                      	pop cx
  1873 00000D39 C3                      	ret
  1874                                  
  1875                                  
  1876                                  ; -------------------------------------------------------------------
  1877                                  ; subroutine for walapart321
  1878                                  ;--------------------------------------------------------------------
  1879                                  
  1880                                  walapart321:
  1881 00000D3A 50                      	push ax
  1882 00000D3B 53                      	push bx
  1883 00000D3C 51                      	push cx
  1884 00000D3D 06                      	push es
  1885 00000D3E 57                      	push di
  1886 00000D3F 1E                      	push ds
  1887 00000D40 B800B8                  	mov ax,0xb800
  1888 00000D43 8EC0                    				mov es,ax
  1889 00000D45 8ED8                    				mov ds,ax
  1890 00000D47 50                      				push ax
  1891 00000D48 06                      				push es
  1892 00000D49 1E                      				push ds
  1893 00000D4A E8C4FD                  				call Intro
  1894 00000D4D 1F                      				pop ds
  1895 00000D4E 07                      				pop es
  1896 00000D4F 58                      				pop ax
  1897 00000D50 BF0000                  				mov di,0
  1898 00000D53 BB0000                  				mov bx,0 
  1899 00000D56 B91900                  				mov cx,25
  1900                                  				TakIn:
  1901 00000D59 CD16                    				int 0x16   
  1902 00000D5B E460                    				in al ,0x60  
  1903 00000D5D 3C19                    				cmp al,0x19   ;;; interupt for p
  1904 00000D5F 75F8                    				jne TakIn
  1905 00000D61 E85EF9                  				call clrscr
  1906 00000D64 E85BF9                  				call clrscr
  1907                                  
  1908 00000D67 E889FE                  	call three
  1909 00000D6A E871F9                  		call delay
  1910 00000D6D E852F9                  		call clrscr
  1911 00000D70 E8C6FE                  		call two
  1912 00000D73 E868F9                  		call delay
  1913 00000D76 E849F9                  		call clrscr
  1914 00000D79 E803FF                  		call one
  1915 00000D7C E85FF9                  		call delay
  1916 00000D7F E840F9                  		call clrscr
  1917 00000D82 E81EFF                  		call go
  1918 00000D85 E856F9                  		call delay
  1919                                  
  1920                                          
  1921 00000D88 E837F9                  		call clrscr
  1922 00000D8B E80A00                  		call Initialization
  1923 00000D8E E83000                  		call baqi
  1924                                  	
  1925 00000D91 1F                      		pop ds
  1926 00000D92 5F                      		pop di
  1927 00000D93 07                      		pop es
  1928 00000D94 59                      		pop cx
  1929 00000D95 5B                      		pop bx
  1930 00000D96 58                      		pop ax
  1931                                  		
  1932                                  		
  1933 00000D97 C3                      		ret
  1934                                  
  1935                                  ; -------------------------------------------------------------------
  1936                                  ; subroutine for Initializing
  1937                                  ;--------------------------------------------------------------------
  1938                                  
  1939                                  Initialization:
  1940 00000D98 E85DF9                  	call Print_Sky
  1941 00000D9B E8C6F9                  	call Print_mid_Background
  1942 00000D9E E8DDF9                  	call Print_River
  1943 00000DA1 E8A6F9                  	call Print_Greenry
  1944 00000DA4 E87EF9                      call Print_last
  1945 00000DA7 C3                      	ret
  1946                                  
  1947                                  
  1948                                  
  1949                                  
  1950                                  make_buildings:
  1951                                  
  1952 00000DA8 E827FA                      call building1
  1953 00000DAB E864FA                      call building2
  1954 00000DAE E890FA                      call building3
  1955 00000DB1 E8BCFA                      call building4
  1956 00000DB4 E81BFB                      call building5
  1957 00000DB7 E858FB                      call building6
  1958 00000DBA E884FB                      call building7
  1959                                  
  1960 00000DBD E8B2FB                      call building8
  1961                                  
  1962                                  
  1963 00000DC0 C3                          ret
  1964                                  ; -------------------------------------------------------------------
  1965                                  ; subroutine for call maindisplay
  1966                                  ;--------------------------------------------------------------------
  1967                                  
  1968                                  
  1969                                  
  1970                                  baqi:
  1971                                  
  1972 00000DC1 E8E4FF                  	call make_buildings
  1973                                  	
  1974                                  
  1975 00000DC4 C3                          ret
  1976                                  ;--------------------------------------------------------------------
  1977                                  ; subroutine for Movements
  1978                                  ;--------------------------------------------------------------------
  1979                                  Movements:		
  1980                                  	mainloop:
  1981                                  
  1982 00000DC5 E816F9                  		call delay
  1983                                  		;call Sky_Movements
  1984 00000DC8 E88AFC                   		call mid_Movements
  1985 00000DCB EBF8                    		jmp mainloop
  1986                                  		
  1987 00000DCD C3                      	ret
  1988                                  
  1989                                  			
  1990                                  initializesound:
  1991 00000DCE 60                      		pusha
  1992 00000DCF 1E                      		push ds
  1993 00000DD0 06                      		push es
  1994 00000DD1 0E                      		push cs
  1995 00000DD2 1F                      		pop ds
  1996                                  			;read sound data from file and store in sound_buffer segment
  1997 00000DD3 B43D                    			mov ah,3dh ; open file
  1998 00000DD5 B000                    			mov al,0
  1999 00000DD7 8D16[1B00]              			lea dx,filename
  2000 00000DDB CD21                    			int 21h
  2001 00000DDD A3[2600]                			mov [filehandle],ax
  2002                                  			;read file and write bytes to 
  2003 00000DE0 B43F                    			mov ah,3fh
  2004 00000DE2 8B0E[1900]              			mov cx,[sound_size]
  2005 00000DE6 8B1E[2600]              			mov bx,[filehandle]
  2006 00000DEA 8B16[1500]              			mov dx,[sound_buffer]
  2007 00000DEE 8EDA                    			mov ds,dx
  2008 00000DF0 31D2                    			xor dx,dx
  2009 00000DF2 CD21                    			int 21h
  2010                                  			;close file
  2011 00000DF4 8CC8                    			mov ax,cs
  2012 00000DF6 8ED8                    			mov ds,ax
  2013 00000DF8 B43E                    			mov ah,3eh
  2014 00000DFA 8B1E[2600]              			mov bx,[filehandle]
  2015 00000DFE CD21                    			int 21h	
  2016 00000E00 07                      		pop es
  2017 00000E01 1F                      		pop ds
  2018 00000E02 61                      		popa
  2019 00000E03 C3                      		ret
  2020                                  ;--------------------------------------------------------------------
  2021                                  ; Driver
  2022                                  ;--------------------------------------------------------------------
  2023                                  start:		
  2024                                  	
  2025 00000E04 E833FF                      call walapart321
  2026 00000E07 E8B7FF                      call baqi
  2027 00000E0A E8C1FF                  	call initializesound
  2028                                  	
  2029                                  koko:
  2030 00000E0D FA                      cli 
  2031 00000E0E 31C0                    	xor ax, ax 
  2032 00000E10 8EC0                    	mov es, ax  
  2033 00000E12 26A12400                	mov ax, [es:9*4] 
  2034 00000E16 A3[0700]                	mov [oldkb], ax 
  2035 00000E19 26A12600                	mov ax, [es:9*4+2] 
  2036 00000E1D A3[0900]                	mov [oldkb+2], ax 
  2037 00000E20 26C7062400[2800]        	mov word [es:9*4], kbisr
  2038 00000E27 268C0E2600              	mov [es:9*4+2], cs 	
  2039 00000E2C 26C7062000[3106]        	mov word [es:8*4], timer 
  2040 00000E33 268C0E2200              	mov [es:8*4+2], cs 
  2041 00000E38 A1[0F00]                	mov ax,[timerfrequency]
  2042 00000E3B BB2C01                  	mov bx,300
  2043 00000E3E 31D2                    	xor dx,dx
  2044 00000E40 F7F3                    	div bx
  2045 00000E42 A3[1100]                	mov word[timerticklimit],ax
  2046 00000E45 BA4300                  	mov dx, 0x43           ; Set up the control register
  2047 00000E48 B0C0                    	mov al, 0B11000000     ; Channel 1, Access mode lobyte/hibyte, Mode 3 (square wave generator)
  2048 00000E4A EE                      	out dx, al             ; Send the control word
  2049                                  
  2050 00000E4B BA4000                  	mov dx, 0x40           ; Set up the data register for Channel 1
  2051 00000E4E B82C01                  	mov ax, 300 ; Your desired frequency value
  2052 00000E51 EE                      	out dx, al             ; Send the low byte
  2053 00000E52 88E0                    	mov al, ah             ; Send the high byte
  2054 00000E54 EE                      	out dx, al             ; Send the high byte	
  2055 00000E55 FB                      sti 
  2056 00000E56 BA[040E]                	mov dx, start  
  2057 00000E59 83C20F                  	add dx, 15  
  2058 00000E5C B104                    	mov cl, 4 
  2059 00000E5E D3EA                    	shr dx, cl 
  2060                                  	
  2061 00000E60 B80031                  	mov ax, 0x3100  
  2062 00000E63 CD21                    	int 0x21
