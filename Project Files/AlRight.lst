     1                                  [org 0x0100]
     2 00000000 EB57                    jmp start
     3                                  AlignRight:
     4 00000002 55                      			push bp
     5 00000003 83EC02                  			sub sp,2
     6 00000006 C746FE0E00              			mov word[bp-2],14
     7 0000000B 60                      			pusha
     8 0000000C 06                      			push es
     9 0000000D 1E                      			push ds
    10 0000000E 8B46FE                  			mov ax,[bp-2]
    11 00000011 31D2                    			xor dx,dx
    12 00000013 B95000                  			mov cx,80
    13 00000016 F7E1                    			mul cx,
    14 00000018 83C04F                  			add ax,79
    15 0000001B D1E0                    			shl ax,1
    16 0000001D B900B8                  			mov cx,0xb800
    17 00000020 8EC1                    			mov es,cx
    18 00000022 89C7                    			mov di,ax
    19 00000024 FD                      			std
    20 00000025 B82007                  			mov ax,0x0720
    21 00000028 57                      			push di
    22                                  			scanl:
    23 00000029 AF                      				  scasw
    24 0000002A 75FD                    				  jne scanl
    25 0000002C 59                      				  pop cx
    26 0000002D 51                      				  push cx
    27 0000002E 29F8                    				  sub ax,di
    28 00000030 89FE                    				  mov si,di
    29 00000032 5F                      				  pop di
    30 00000033 B800B8                  				  mov ax,0xb800
    31 00000036 8ED8                    				  mov ds,ax
    32 00000038 BB5000                  				  mov bx,80
    33 0000003B 29CB                    				  sub bx,cx
    34 0000003D 89D9                    				  mov cx,bx
    35 0000003F F3A5                    				  rep movsw
    36 00000041 D1E3                    				  shl bx,1
    37 00000043 29DE                    				  sub si,bx
    38 00000045 29DF                    				  sub di,bx
    39 00000047 D1EB                    				  shr bx,1
    40 00000049 B82000                  				  mov ax,0x0020
    41 0000004C 89D9                    				  mov cx,bx
    42 0000004E FC                      				  cld
    43 0000004F F3AB                    				  rep stosw
    44 00000051 1F                      				  pop ds
    45 00000052 07                      				  pop es
    46 00000053 61                      				  popa
    47 00000054 83C402                  				  add sp,2
    48 00000057 5D                      				  pop bp
    49 00000058 C3                      				  ret
    50                                  
    51                                  start:
    52 00000059 E8A6FF                  	call AlignRight
    53 0000005C B8004C                  mov ax,0x4c00
    54 0000005F CD21                    int 0x21
