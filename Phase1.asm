[org 0x0100]
jmp start

message: db 32,32,32,32,46,32,46,32,48,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,10,32,32,32,32,32,58,43,35,43,46,32,48,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,10,32,32,32,32,32,32,43,37,35,35,35,37,37,37,37,37,37,37,35,35,42,43,45,58,32,48,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,10,32,32,32,32,32,61,35,35,35,35,35,35,37,35,37,37,37,37,35,37,37,37,37,37,37,35,61,58,32,48,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,10,32,32,32,32,61,61,42,35,35,35,35,35,35,35,35,35,35,35,35,35,37,35,35,37,64,37,37,37,37,42,45,32,48,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,10,32,32,32,58,61,42,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,37,37,37,37,37,43,58,32,48,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,10,32,32,58,43,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,37,37,37,35,42,61,45,58,46,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,46,46,46,46,46,32,48,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,10,32,46,43,35,35,35,35,35,35,35,35,35,42,45,43,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,42,42,42,43,61,58,46,32,32,32,32,32,32,32,32,46,46,58,61,43,42,42,42,42,42,42,42,42,42,42,43,61,45,46,32,48,32,32,32,32,32,32,32,32,32,32,32,10,46,61,35,35,35,35,35,35,35,43,61,58,32,32,32,58,42,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,42,61,58,32,48,32,32,32,32,32,32,32,32,10,61,35,35,35,35,35,42,45,32,32,32,32,32,32,32,32,32,61,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,42,42,42,42,42,42,42,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,45,32,48,32,32,32,32,32,32,10,45,37,37,37,37,61,32,32,32,32,32,32,32,32,32,32,32,32,58,42,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,37,35,46,32,48,32,32,32,32,10,32,32,32,46,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,46,43,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,37,37,58,32,48,32,32,32,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,61,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,37,37,37,46,32,48,32,32,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,42,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,37,37,37,37,42,32,48,32,32,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,45,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,37,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,42,42,37,37,37,58,32,48,32,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,43,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,37,37,37,37,35,35,35,35,35,35,35,35,35,35,35,35,35,37,58,42,37,37,37,43,32,48,32,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,43,37,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,37,37,37,35,42,43,35,35,42,35,35,35,35,35,35,35,35,35,35,37,61,32,35,37,37,37,37,32,48,32,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,45,42,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,37,37,35,35,42,43,45,58,32,32,32,32,32,46,35,35,35,35,35,35,35,35,35,35,35,32,32,37,37,37,37,37,46,32,48,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,46,35,35,35,35,35,35,35,37,37,42,43,43,43,43,43,43,43,61,61,45,58,58,46,32,32,32,32,32,32,32,32,32,32,32,32,32,43,35,35,35,35,35,35,35,35,35,42,32,32,37,37,37,37,37,58,32,48,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,43,35,35,35,35,35,35,37,37,45,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,35,35,35,35,35,35,35,35,35,35,32,32,37,64,37,37,37,61,32,48,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,46,35,35,35,35,35,37,37,37,43,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,46,35,37,35,35,35,35,35,35,37,61,32,42,64,37,37,37,43,32,48,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,43,35,35,35,35,37,37,37,42,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,58,37,37,37,35,35,35,35,35,35,43,46,37,37,64,37,42,32,48,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,45,35,35,35,35,37,37,37,42,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,45,37,37,37,37,35,35,35,35,35,42,43,37,37,37,61,32,48,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,58,35,35,35,43,37,37,37,35,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,43,37,37,37,37,35,35,35,35,37,58,35,61,42,32,48,32,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,46,35,35,35,61,43,37,37,37,46,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,58,37,37,37,35,46,42,35,35,35,46,58,45,45,32,48,32,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,42,35,35,45,46,37,37,37,46,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,42,37,37,43,32,32,42,35,35,46,32,46,32,48,32,32,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,61,35,35,32,32,61,37,37,58,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,43,37,37,45,32,32,45,35,35,58,32,48,32,32,32,32,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,58,35,42,32,32,32,35,37,45,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,43,37,37,46,32,32,32,35,35,61,32,48,32,32,32,32,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,58,35,35,32,32,32,42,37,43,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,42,37,35,32,32,32,32,42,35,43,32,48,32,32,32,32,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,43,35,35,46,32,32,42,37,37,46,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,46,37,37,42,32,32,32,32,42,35,35,32,48,32,32,32,32,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,61,35,35,43,32,32,45,37,37,42,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,46,35,37,37,61,32,32,32,45,35,35,42,32,48,32,32,32,32,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,45,42,35,35,45,32,58,42,37,37,43,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,61,37,37,37,45,32,32,46,43,35,35,43,32,48,32,32,32,32,32,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,58,42,42,42,42,46,46,42,42,42,42,45,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,45,42,42,42,61,32,32,32,42,42,42,42,58,32,48,32,32,32,32,32
testing : db 32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,49,50,51,48,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,49,50,51,48,10,32,49,50,51,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,53,54,48,10,32,32,32,32,32,32,32,32,32,32,32,32,49,50,51,32,32,32,32,32,32,32,32,32,32,32,32,48,32,10,49,50,51,52,53,54,55,56,57,48
length: dw 1880 ; length of the string
;--------------------------------------------------------------------
; subroutine to clear the screen
;--------------------------------------------------------------------
clrscr:		push es
			push ax
			push di

			mov ax, 0xb800
			mov es, ax					; point es to video base
			mov di, 0					; point di to top left column
			mov ah, 0x07
			mov al, 0x20

nextloc:	mov word [es:di], ax	; clear next char on screen
			;inc AL
			add di, 2					; move to next screen location
			cmp di, 11352				; 132x43x2
			jne nextloc					; if no clear next position

			pop di
			pop ax
			pop es
			ret
;--------------------------------------------------------------------
; subroutine to print a string at top left of screen
; takes address of string and its length as parameters
;--------------------------------------------------------------------
printstr:	push bp
			mov bp, sp
			push es
			push ax
			push cx
			push si
			push di
			push bx

            mov bx, 3780
			sub bx, 264
			mov ax, 0xb800
			mov es, ax				; point es to video base
			mov di, bx			; point di to top left column						; es:di --> b800:0000
			mov si, [bp+6]			; point si to string
			sub si,1 
			mov cx, [bp+4]			; load length of string in cx
			mov ah, 0x07			; normal attribute fixed in al

nextline:
         add bx, 262
		 mov di, bx	
         add si,5	 
nextchar:	mov al, [si]			; load next char of string
            cmp al, '0'
			je nextline
			mov [es:di], ax			; show this char on screen
			add di, 2				; move to next screen location
			add si, 1				; move to next char in string			
			loop nextchar			; repeat the operation cx times
			
			pop bx
			pop di
			pop si
			pop cx
			pop ax
			pop es
			pop bp
			ret 4

;--------------------------------------------------------------------
start:	
mov AH,0x00
mov al, 0x54
int 0x10

;mov Ax,0x1003
;mov bl, 0x00
;int 0x10

call clrscr ; call the clrscr subroutine

		mov ax, message
		push ax					; push address of message.. [bp+6]
		push word [length]		; push message length .... [bp+4]
		call printstr			; call the printstr subroutine

		mov ax, 0x4c00 ; terminate program
		int 0x21